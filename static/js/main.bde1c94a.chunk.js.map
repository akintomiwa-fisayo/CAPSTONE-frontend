{"version":3,"sources":["images/coverimage.jpg","js/lib.js","components/SignIn.jsx","components/ChangePassword.jsx","components/NavBlock.jsx","components/Report.jsx","components/Error.jsx","components/Reports.jsx","components/CreateUser.jsx","components/AddComment.jsx","components/CommentMoreAction.jsx","components/ReportContent.jsx","components/Comment.jsx","components/PostMoreAction.jsx","components/Post.jsx","components/Posts.jsx","components/SharePost.jsx","components/Feeds.jsx","components/PostEdit.jsx","components/ViewPost.jsx","components/UserArticles.jsx","components/UserGifs.jsx","components/UserDetails.jsx","components/UserProfile.jsx","components/MainContentBlock.jsx","components/UpdatesBlock.jsx","components/MobileNavBlock.jsx","components/Home.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","$","q","document","querySelector","lib","isEmpty","str","trim","isElement","o","HTMLElement","nodeType","nodeName","isEmail","test","isDescendant","e","query","matches","querySelectorAll","el","matchesLen","contains","length","tagName","i","parentElement","isUpperCase","v","toUpperCase","toLowerCase","isLowerCase","sepCamelWord","newStr","popMessage","m","timeout","animationTime","showMsg","msg","setTimeout","classList","add","createElement","innerHTML","appendChild","id","remove","removeChild","children","deleteIndex","value","newArray","argumentsLength","save","j","currentIndex","push","join","getWeekDay","day","isNaN","getMonth","month","getRelativeTime","timestamp","relative","d1","Date","d2","relativeTime","year","getFullYear","hour","getHours","hourPref","date","getDate","minutes","getMinutes","minutesDbl","getDay","diffInMilliseconds","diffInSec","Math","floor","diffInMinutes","diffInHours","diffInDays","getCordinates","scrollContainer","elem","xPos","offsetLeft","scrollLeft","yPos","offsetTop","scrollTop","left","top","parseURI","_URI","_Uri","breakUri","u","uriArr","split","pop","URI","Uri","URILen","params","param","SignIn","props","state","submitting","isValidForm","error","email","focused","invalid","password","_isMounted","submitForm","bind","regFieldInput","blurField","focusField","clickTofocusField","this","setState","fetch","method","body","JSON","stringify","username","headers","then","res","status","json","Error","user","data","history","localStorage","setItem","token","userId","catch","err","message","parseInt","prevState","event","target","getAttribute","focus","field","fieldState","data-page","src","pageBk","alt","className","onClick","name","type","onInput","onBlur","onFocus","React","Component","defaultState","conPassword","newPassword","ChangePassword","success","changePassword","Field","n","fetchRequest","url","newToken","data-field","onChange","NavBlock","removeItem","createUser","reports","sessionUser","isAdmin","to","isActive","match","location","indexOf","pathname","exact","signOut","Report","report","willDelete","dateTimeRef","updatePostDateTimeRef","attendTo","reportedOn","setInterval","clearInterval","action","reportId","removeReport","reportedPost","reportComment","contentType","reportedComment","comment","post","href","author","passportUrl","firstName","lastName","article","gif","content","imageUrl","data-type","reporter","data-timestamp","title","flag","reason","role","Reports","loading","loadReports","pageSwitch","newReports","reportsArr","key","defaultStates","passport","department","jobRole","gender","address","emailError","passwordError","CreateUser","departments","companyDeptStruc","onJobRoleChange","onDepartmentChange","onGenderChange","regInputsState","onDisplayChange","resetForm","regDisplay","files","size","fileReader","FileReader","readAsDataURL","onerror","onload","frEvent","fileSrc","result","input","Object","keys","deptJobRoles","jobRoles","jobRoleValid","validate","form","FormData","append","finally","departmentsArr","deptsKeys","forEach","jobRolesArr","click","accept","placeholder","disabled","isfocused","AddComment","onCommentInput","submitComment","path","response","comments","registerComment","authorId","commentId","createdOn","CommentMoreActions","moreActions","focusMoreActions","blurMoreActions","revealReportDialog","showMoreActions","moreActionEl","cord","moreActionWdth","offsetWidth","deviceWidth","clientWidth","style","blur","hideMoreActions","stopPropagation","focusForReport","showReportDialog","view","preview","ref","defaultProps","flags","ReportContent","reporting","flagError","reasonError","hideReportDialog","preventHide","submitReport","isValid","reportflags","Comment","reportFocused","updateCommentDatetimeRef","getUser","reportDialog","MoreActions","editPost","promptDelete","deletePost","Post","deleting","getAuthor","viewPost","removeDeleteDialog","isNew","Promise","resolve","getCurrentPage","delay","onDelete","commentsArr","deleteDialog","Posts","registerPosts","posts","setPosts","postsArr","getPosts","gifPost","image","articlePost","SharePost","onInputFocus","onInputChange","onInputBlur","onGifChange","submitPost","onGifDrop","changePostType","onArticleChange","postGifBlock","preventDefault","handleDrop","pickedFile","kind","file","getAsFile","dataTransfer","items","Authorization","getItem","registerPost","onDrop","onDragOver","onGifDragOver","onDragLeave","onGifDragLeave","Feeds","pst","getPost","unshift","navigator","onLine","newPosts","PostEdit","titleError","articleError","isOwner","updatePost","filled","goBack","ViewPost","gifId","articleId","postInfo","render","UserArticles","articles","mountProfileView","Articles","articlesArr","UserGifs","gifs","Gifs","gifsArr","UserDetails","departmentText","jobRoleText","hiredOn","UserProfile","profileLoading","profileView","parallaxScroll","window","addEventListener","removeEventListener","container","containerHeight","offsetHeight","containerTop","containerPtop","containerBottom","innerHeight","relativeDisplacement","transform","deptStruc","userDept","sample","MainContentBlock","pageComp","backBtn","reject","endpoint","page","userName","data-comp","UpdatesBlock","cancel","onCancel","styles","data-importance","dataimportance","MobileNavBlock","showMoreOptions","showNoticeBoard","updatesBlock","changePasswordDialog","revealChangePassword","hideChangePassword","revealNoticeBoard","hideNoticeBoard","toogleMoreOptions","blurMoreOptions","showChangePassword","headerHeight","h","height","display","moreOptions","focusMoreOptions","noticeBoard","Home","validateAdmin","sessionUserId","getCompanyDeptStruc","errorHandler","sessionUserToken","retry","errorText","fetchResponse","statusText","App","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bde1c94a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/coverimage.5afb4beb.jpg\";","/* eslint-disable no-restricted-globals */\nconst $ = (q) => (document.querySelector(q));\n\nconst lib = {\n  isEmpty: (str) => (str ? !str.trim() : true),\n\n  isElement: (o) => (\n    typeof HTMLElement === 'object' ? o instanceof HTMLElement\n      : o && typeof o === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string'\n  ),\n\n  isEmail: (str) => (!((/[a-z0-9]+@+[a-z0-9]+\\.+[a-z]{3,}/i.test(str) === false || /[^a-z0-9.@]/i.test(str) === true))),\n\n  isDescendant: (e, query) => {\n    const matches = typeof (query) === 'string' ? document.querySelectorAll(query) : query;\n    let el = lib.isElement(e) ? e : document.querySelector(e);\n    let matchesLen = 0;\n    if (lib.isElement(matches)) {\n      if (query.contains(el)) return query;\n    } else if (matches) {\n      matchesLen = matches.length;\n      while (el && !(el.tagName === 'HTML')) {\n        for (let i = 0; i < matchesLen; i += 1) {\n          if (el === matches[i]) return el;\n        }\n\n        el = el.parentElement;\n      }\n    }\n    return false;\n  },\n\n  isUpperCase: (v) => (!!(v.toUpperCase() !== v.toLowerCase() && v === v.toUpperCase())),\n\n  isLowerCase: (v) => (!!(v.toUpperCase() !== v.toLowerCase() && v === v.toLowerCase())),\n\n  sepCamelWord: (str) => {\n    let i = str.length - 1;\n    let newStr = '';\n    for (i; i >= 0; i -= 1) newStr = lib.isUpperCase(str[i]) ? ` ${str[i].toLowerCase()}${newStr}` : `${str[i]}${newStr}`;\n    return newStr;\n  },\n\n  popMessage: (m, timeout = 4500) => {\n    const animationTime = 300; // <== value must be the same here and in general.less\n    const showMsg = (msg) => {\n      setTimeout(() => {\n        msg.classList.add('show');\n      }, 100);\n    };\n    let popMessage = document.querySelector('#popMessage');\n    const msg = document.createElement('DIV');\n    msg.classList = 'message';\n    msg.innerHTML = m;\n\n    if (!popMessage) {\n      // alert('popMessage not created yet');\n      popMessage = document.createElement('DIV');\n      popMessage.id = 'popMessage';\n      popMessage.appendChild(msg);\n      document.querySelector('#root').appendChild(popMessage);\n      showMsg(msg);\n    } else {\n      popMessage.appendChild(msg);\n      showMsg(msg);\n    }\n\n    setTimeout(() => {\n      msg.classList.remove('show');\n      setTimeout(() => {\n        popMessage.removeChild(msg);\n        if (!popMessage.children[0]) {\n          document.querySelector('#root').removeChild(popMessage);\n        }\n      }, animationTime);\n    }, timeout);\n  },\n\n  deleteIndex: (value, ...indexes) => {\n    // can input as much parameter as possible but first parameter much be an array obj or string\n    const newArray = [];\n    const argumentsLength = indexes.length;\n    let save = true;\n    for (let j = 0; j < value.length; j += 1) {\n      save = true;\n      for (let i = 0; i < argumentsLength; i += 1) {\n        const currentIndex = indexes[i];\n        if (j === currentIndex) {\n          save = false;\n          break;\n        }\n      }\n      if (save) newArray.push(value[j]);\n    }\n    return typeof (value) === 'string' ? newArray.join('') : newArray;\n  },\n\n  getWeekDay: (day) => {\n    const weekdays = [\n      'sunday',\n      'monday',\n      'tuesday',\n      'wednesday',\n      'thursday',\n      'friday',\n      'saturday',\n    ];\n    return isNaN(day) ? false : weekdays[day];\n  },\n\n  getMonth: (month) => {\n    const months = [\n      'january',\n      'february',\n      'march',\n      'april',\n      'may',\n      'june',\n      'july',\n      'august',\n      'september',\n      'october',\n      'november',\n      'december',\n    ];\n    return isNaN(month) ? false : months[month];\n  },\n\n  getRelativeTime: (timestamp, relative = true) => {\n    const d1 = new Date();\n    const d2 = new Date(timestamp);\n    let relativeTime = '';\n\n    let year = d2.getFullYear();\n    year = d1.getFullYear() > year ? year : '';\n    const month = lib.getMonth(d2.getMonth());\n    let hour = d2.getHours();\n    const hourPref = hour >= 12 ? 'pm' : 'am';\n    if (hour === 0) {\n      hour = 12;\n    } else {\n      hour = hour > 12 ? hour - 12 : hour;\n    }\n    const date = d2.getDate() + 1;\n    const minutes = d2.getMinutes();\n    let minutesDbl = `${minutes}`;\n    minutesDbl = minutesDbl.length === 1 ? `0${minutesDbl}` : minutesDbl;\n    const day = lib.getWeekDay(d2.getDay());\n    if (relative) {\n      const diffInMilliseconds = d1 - d2;\n      const diffInSec = Math.floor(diffInMilliseconds / 1000);\n      if (diffInSec >= 60) { // 60 seconds make a minute\n        const diffInMinutes = Math.floor(diffInSec / 60);\n        if (diffInMinutes >= 60) { // 60 minutes make in an hour\n          const diffInHours = Math.floor(diffInMinutes / 60);\n          if (diffInHours >= 24) { // 24 hours make in a day\n            const diffInDays = Math.floor(diffInHours / 24);\n            if (diffInDays >= 7) { // 7 day make in a week\n              relativeTime = `${day} ${month} ${date} ${year} at ${hour}:${minutesDbl} ${hourPref}`;\n            } else if (diffInDays === 1) {\n              relativeTime = `yesterday at ${hour}:${minutesDbl} ${hourPref}`;\n            } else {\n              relativeTime = `last ${day} at ${hour}:${minutesDbl} ${hourPref}`;\n            }\n          } else relativeTime = `${diffInHours}hr${diffInHours > 1 ? 's' : ''} ago`;\n        } else relativeTime = `${diffInMinutes}min${diffInMinutes > 1 ? 's' : ''} ago`;\n      } else relativeTime = 'just now';\n    } else {\n      relativeTime = `${day} ${month} ${date} ${year} at ${hour}:${minutesDbl} ${hourPref}`;\n    }\n\n    return relativeTime;\n  },\n\n  getCordinates: (el, scrollContainer = $('html')) => {\n    const elem = lib.isElement(el) ? el : $(el);\n    const xPos = elem.offsetLeft - scrollContainer.scrollLeft;\n    const yPos = elem.offsetTop - scrollContainer.scrollTop;\n\n    return {\n      left: xPos,\n      top: yPos,\n    };\n  },\n\n  parseURI(_URI, _Uri) {\n    // uri are expected to  come in this format => \"/api/one/two/param?query=value&query=value\"\n    // where _URI is dominate and will be calling the shots (typically a route path)\n    // where _Uri has to abide by _URI ruled (typically a full location path)\n    const breakUri = (u) => {\n      const uri = u.split('?')[0]; // <== to remove query string from the uri\n      const uriArr = uri.split('/');\n      if (uriArr[uriArr.length - 1] === '') uriArr.pop();\n      return uriArr;\n    };\n\n    const URI = breakUri(_URI);\n    const Uri = breakUri(_Uri);\n    const URILen = URI.length;\n    if (URILen === Uri.length) {\n      const params = {};\n      let param = '';\n      let value = '';\n      for (let i = 0; i < URILen; i += 1) {\n        if (URI[i][0] === ':') {\n          param = lib.deleteIndex(URI[i], 0);\n          value = Uri[i];\n          params[param] = value;\n        } else if (URI[i] !== Uri[i]) return false;\n      }\n\n      return params;\n    } return false;\n  },\n\n};\n\nexport default lib;\n","/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/forbid-prop-types */\n/* eslint-disable dot-notation */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\nimport '../css/signin.css';\nimport pageBk from '../images/coverimage.jpg';\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submitting: false,\n      isValidForm: true,\n      error: 'The email or password you entered is not correct, please try again.',\n      email: {\n        state: 'empty',\n        value: '',\n        focused: '',\n        invalid: '',\n      },\n      password: {\n        state: 'empty',\n        value: '',\n        focused: '',\n        invalid: '',\n      },\n    };\n\n    this._isMounted = false;\n    this.submitForm = this.submitForm.bind(this);\n    this.regFieldInput = this.regFieldInput.bind(this);\n    this.blurField = this.blurField.bind(this);\n    this.focusField = this.focusField.bind(this);\n    this.clickTofocusField = this.clickTofocusField.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n\n  submitForm() {\n    const { submitting } = this.state;\n    if (submitting === false) {\n      const { email } = this.state;\n      const { password } = this.state;\n      if (email.state === 'filled' && password.state === 'filled') {\n        this.setState(() => ({\n          submitting: true,\n        }));\n\n        fetch('https://akintomiwa-capstone-backend.herokuapp.com/api/v1/auth/signin', {\n          method: 'POST',\n          body: JSON.stringify({\n            username: email.value,\n            password: password.value,\n          }),\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }).then((res) => {\n          if (res.status === 200) return res.json();\n          throw new Error(res.status);\n        }).then(({ data: user }) => {\n          const { history } = this.props;\n          // start user session and redirect to home page\n          localStorage.setItem('sessionUserToken', user.token);\n          localStorage.setItem('sessionUserId', user.userId);\n          history.push('/');\n        }).catch(({ message: err }) => {\n          const error = parseInt(err, 10);\n          if (this._isMounted) {\n            if (error === 500) {\n              this.setState(() => ({\n                isValidForm: false,\n                error: 'Oops!, there was a server error, please try again',\n              }));\n            } else if (error === 400) {\n              this.setState(() => ({\n                isValidForm: false,\n                error: 'The email or password you entered is not correct, please try again.',\n              }));\n            }\n            this.setState(() => ({ submitting: false }));\n          }\n        });\n      } else {\n        if (email.state !== 'filled') {\n          this.setState((prevState) => ({\n            email: { ...prevState.email, invalid: 'invalid' },\n          }));\n        }\n\n        if (password.state !== 'filled') {\n          this.setState((prevState) => ({\n            password: { ...prevState.password, invalid: 'invalid' },\n          }));\n        }\n\n        this.setState(() => ({\n          error: 'You need both email and password to sign in',\n          isValidForm: false,\n        }));\n      }\n    }\n  }\n\n  clickTofocusField(event) {\n    const field = event.target.getAttribute('name');\n    const fieldFocus = field === 'email' ? this.state.email.focused : this.state.password.focused;\n    if (fieldFocus !== 'focused') {\n      const heroInput = lib.isDescendant(event.target, '.hero-input');\n      heroInput.querySelector('.hero-input-field').focus();\n    }\n  }\n\n  focusField(event) {\n    const field = event.target.getAttribute('name');\n    this.setState((prevState) => ((field === 'email') ? {\n      email: { ...prevState.email, focused: 'focused' },\n    } : {\n      password: { ...prevState.password, focused: 'focused' },\n    }));\n  }\n\n  regFieldInput(event) {\n    const field = event.target.getAttribute('name');\n    if (field === 'email' || field === 'password') {\n      const { value } = event.target;\n      const fieldState = lib.isEmpty(value) ? 'empty' : 'filled';\n      this.setState(() => ((field === 'email') ? {\n        email: {\n          state: fieldState,\n          focused: 'focused',\n          invalid: '',\n          value,\n        },\n      } : {\n        password: {\n          state: fieldState,\n          focused: 'focused',\n          invalid: '',\n          value,\n        },\n      }));\n    }\n  }\n\n  blurField(event) {\n    const field = event.target.getAttribute('name');\n    this.setState((prevState) => ((field === 'email') ? {\n      email: { ...prevState.email, focused: '' },\n    } : {\n      password: { ...prevState.password, focused: '' },\n    }));\n  }\n\n  render() {\n    return (\n      <div id=\"pageContent\" data-page=\"signin\">\n        <img id=\"pageBK\" src={pageBk} alt=\"\" />\n        <div id=\"siteLogoHolder\">\n          <span id=\"siteLogo\">ignite</span>\n        </div>\n        <div id=\"contentHolder\">\n          <div id=\"signInForm\">\n            <div id=\"pageBKcloneHolder\">\n              <img id=\"pageBKclone\" src={pageBk} alt=\"\" />\n            </div>\n            <div className=\"form\">\n              <h1 className=\"label\">sign in</h1>\n              <div id=\"errorMessage\" className={this.state.isValidForm ? 'hide' : 'show'}>\n                <span>{this.state.error}</span>\n              </div>\n              <div\n                className={`${this.state.email.state} ${this.state.email.focused} ${this.state.email.invalid} hero-input form-element mandatory`}\n                onClick={this.clickTofocusField}\n                name=\"email\"\n              >\n                <p className=\"hero-input-label\">\n                  <span>email</span>\n                </p>\n                <input type=\"text\" name=\"email\" className=\"hero-input-field\" onInput={this.regFieldInput} onBlur={this.blurField} onFocus={this.focusField} />\n              </div>\n\n              <div\n                className={`${this.state.password.state} ${this.state.password.focused} ${this.state.password.invalid} hero-input form-element mandatory`}\n                onClick={this.clickTofocusField}\n                name=\"password\"\n              >\n                <p className=\"hero-input-label\">\n                  <span>password</span>\n                </p>\n                <input type=\"password\" name=\"password\" className=\"hero-input-field\" onInput={this.regFieldInput} onBlur={this.blurField} onFocus={this.focusField} />\n              </div>\n\n              <button type=\"button\" id=\"signInBtn\" className={`btn ${this.state.submitting === true ? 'disabled' : ''} `} onClick={this.submitForm}>sign in</button>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\nSignIn.propTypes = {\n  history: PropTypes.object.isRequired,\n};\nexport default SignIn;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\n\nconst defaultState = {\n  submitting: false,\n  password: {\n    state: 'empty',\n    value: '',\n    focused: '',\n    invalid: '',\n  },\n  conPassword: {\n    state: 'empty',\n    value: '',\n    focused: '',\n    invalid: '',\n  },\n  newPassword: {\n    state: 'empty',\n    value: '',\n    focused: '',\n    invalid: '',\n  },\n  error: false,\n};\n\nclass ChangePassword extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...defaultState,\n      success: false,\n    };\n\n    this._isMounted = false;\n    this.regFieldInput = this.regFieldInput.bind(this);\n    this.blurField = this.blurField.bind(this);\n    this.focusField = this.focusField.bind(this);\n    this.clickTofocusField = this.clickTofocusField.bind(this);\n    this.changePassword = this.changePassword.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  clickTofocusField(event) {\n    let field = lib.isDescendant(event.target, '.hero-input.form-element');\n    if (field) {\n      field = field.getAttribute('data-field');\n      const fieldFocus = this.state[field].focused;\n      if (fieldFocus !== 'focused') {\n        const heroInput = lib.isDescendant(event.target, '.hero-input');\n        heroInput.querySelector('.hero-input-field').focus();\n      }\n    }\n  }\n\n  focusField(event) {\n    const field = event.target.getAttribute('name');\n    this.setState((prevState) => {\n      const Field = {\n        ...prevState[field],\n        focused: 'focused',\n      };\n      const n = {};\n      n[field] = Field;\n      return n;\n    });\n  }\n\n  blurField(event) {\n    const field = event.target.getAttribute('name');\n    this.setState((prevState) => {\n      const Field = {\n        ...prevState[field],\n        focused: '',\n      };\n      const n = {};\n      n[field] = Field;\n      return n;\n    });\n  }\n\n  regFieldInput(event) {\n    const field = event.target.getAttribute('name');\n    const { value } = event.target;\n    const fieldState = lib.isEmpty(value) ? 'empty' : 'filled';\n    this.setState(() => {\n      const Field = {\n        state: fieldState,\n        focused: 'focused',\n        invalid: '',\n        value,\n      };\n      const n = {};\n      n[field] = Field;\n      return n;\n    });\n  }\n\n  changePassword() {\n    const { state } = this;\n    if (!state.submitting) {\n      const { password } = state;\n      const { newPassword } = state;\n      const { conPassword } = state;\n      if (lib.isEmpty(password.value)) {\n        this.setState((prevState) => ({\n          password: {\n            ...prevState.password,\n            invalid: 'invalid',\n          },\n          error: 'you need to input your current password',\n        }));\n      } else if (newPassword.value.length < 8) {\n        this.setState((prevState) => ({\n          newPassword: {\n            ...prevState.newPassword,\n            invalid: 'invalid',\n          },\n          conPassword: {\n            ...prevState.conPassword,\n            invalid: 'invalid',\n          },\n          error: 'password needs to be atleast 8 characters long',\n        }));\n      } else if (newPassword.value !== conPassword.value) {\n        this.setState((prevState) => ({\n          newPassword: {\n            ...prevState.newPassword,\n            invalid: 'invalid',\n          },\n          conPassword: {\n            ...prevState.conPassword,\n            invalid: 'invalid',\n          },\n          error: 'the specified passwords do not match',\n        }));\n      } else {\n        // Proceed to change password\n        this.setState(() => ({ submitting: true }));\n\n        this.props.fetchRequest({\n          url: 'https://akintomiwa-capstone-backend.herokuapp.com/api/v1/auth/password',\n          method: 'patch',\n          body: `{\n            \"oldPassword\" : \"${password.value}\",\n            \"newPassword\" : \"${newPassword.value}\"\n          }`,\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }).then((res) => {\n          const { token: newToken } = res;\n          if (this._isMounted) {\n            this.setState(() => ({\n              ...defaultState,\n              success: true,\n            }));\n          }\n          localStorage.setItem('sessionUserToken', newToken);\n          lib.popMessage('password changed successfully');\n        }).catch((error) => {\n          if (this._isMounted) {\n            if (error.body === 'Old password incorrect') {\n              this.setState((prevState) => ({\n                password: {\n                  ...prevState.password,\n                  invalid: 'invalid',\n                },\n                error: 'password incorrect',\n                submitting: false,\n              }));\n            } else {\n              this.setState(() => ({\n                submitting: true,\n              }));\n              lib.popMessage('opps!, we were unable to complete your request, please try again');\n            }\n          }\n        });\n      }\n    }\n  }\n\n\n  render() {\n    const success = this.state.success ? <p className=\"success-msg\">password changed successfully</p> : '';\n    return (\n      <div id=\"changePassForm\">\n        <p className={`error${this.state.error === false ? ' hide' : ''}`}>{this.state.error}</p>\n        {success}\n        <div\n          className={`${this.state.password.state} ${this.state.password.focused} ${this.state.password.invalid} hero-input form-element`}\n          onClick={this.clickTofocusField}\n          data-field=\"password\"\n        >\n          <p className=\"hero-input-label\">\n            <span>password</span>\n          </p>\n          <input\n            type=\"password\"\n            name=\"password\"\n            className=\"hero-input-field\"\n            onChange={this.regFieldInput}\n            onBlur={this.blurField}\n            onFocus={this.focusField}\n            value={this.state.password.value}\n          />\n        </div>\n\n        <div\n          className={`${this.state.newPassword.state} ${this.state.newPassword.focused} ${this.state.newPassword.invalid} hero-input form-element`}\n          onClick={this.clickTofocusField}\n          data-field=\"newPassword\"\n\n        >\n          <p className=\"hero-input-label\">\n            <span>new password</span>\n          </p>\n          <input\n            type=\"password\"\n            name=\"newPassword\"\n            className=\"hero-input-field\"\n            onChange={this.regFieldInput}\n            onBlur={this.blurField}\n            onFocus={this.focusField}\n            value={this.state.newPassword.value}\n          />\n        </div>\n\n        <div\n          className={`${this.state.conPassword.state} ${this.state.conPassword.focused} ${this.state.conPassword.invalid} hero-input form-element`}\n          onClick={this.clickTofocusField}\n          data-field=\"conPassword\"\n        >\n          <p className=\"hero-input-label\">\n            <span>confirm password</span>\n          </p>\n          <input\n            type=\"password\"\n            name=\"conPassword\"\n            className=\"hero-input-field\"\n            onChange={this.regFieldInput}\n            onBlur={this.blurField}\n            onFocus={this.focusField}\n            value={this.state.conPassword.value}\n          />\n        </div>\n\n        <button type=\"button\" className={`btn ${this.state.submitting === true ? 'disabled' : ''} `} onClick={this.changePassword}>submit</button>\n      </div>\n    );\n  }\n}\n\nChangePassword.propTypes = {\n  fetchRequest: PropTypes.func.isRequired,\n};\n\nexport default ChangePassword;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport '../css/navblock.css';\nimport ChangePassword from './ChangePassword';\n\n\nclass NavBlock extends React.Component {\n  // eslint-disable-next-line class-methods-use-this\n  signOut() {\n    localStorage.removeItem('sessionUserToken');\n    localStorage.removeItem('sessionUserId');\n  }\n\n  render() {\n    const { sessionUser } = this.props;\n    let createUser = '';\n    let reports = '';\n    if (sessionUser.isAdmin) {\n      createUser = (\n        <NavLink className=\"link\" to=\"/create-user\">\n          <span className=\"icon fa fa-user-plus\" />\n          create user\n        </NavLink>\n      );\n\n      reports = (\n        <NavLink className=\"link\" to=\"/reports\">\n          <span className=\"icon fa fa-bug\" />\n          reports\n        </NavLink>\n      );\n    }\n    return (\n      <div id=\"navBlock\">\n        <span id=\"siteLogo\">ignite</span>\n        <div className=\"links\">\n          {createUser}\n          {reports}\n          <NavLink\n            className=\"link\"\n            to=\"/feeds\"\n            isActive={(match, location) => {\n              if (!match) {\n                if (['', '/'].indexOf(location.pathname.toLowerCase()) !== -1) {\n                  return true;\n                }\n                return false;\n              }\n              return true;\n            }}\n          >\n            <span className=\"icon fas fa-layer-group\" />\n            feeds\n          </NavLink>\n          <NavLink className=\"link\" to=\"/profile\">\n            <span className=\"icon fa fa-user-circle\" />\n            profile\n          </NavLink>\n          <NavLink className=\"link\" to=\"/signin\" exact onClick={this.signOut}>\n            <span className=\"icon fa fa-sign-out-alt\" />\n            sign out\n          </NavLink>\n        </div>\n        <hr />\n        <div id=\"accountPreference\">\n          <span className=\"label\"> change password</span>\n          <ChangePassword {...this.props} />\n        </div>\n      </div>\n    );\n  }\n}\n\nNavBlock.propTypes = {\n  sessionUser: PropTypes.object.isRequired,\n};\n\nexport default NavBlock;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\n\nclass Report extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      report: {\n        ...props.report,\n      },\n      willDelete: false,\n      dateTimeRef: '',\n      submitting: false,\n    };\n\n    this._isMounted = false;\n    this.updatePostDateTimeRef = null;\n    this.attendTo = this.attendTo.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.setState((prevState) => ({\n      dateTimeRef: lib.getRelativeTime(prevState.report.reportedOn),\n    }));\n    this.updatePostDateTimeRef = setInterval(() => {\n      if (this._isMounted) {\n        this.setState((prevState) => ({\n          dateTimeRef: lib.getRelativeTime(prevState.report.reportedOn),\n        }));\n      }\n    }, 60000); // 60 seconds (1 min)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    clearInterval(this.updatePostDateTimeRef);\n  }\n\n\n  attendTo(action) {\n    if (!this.state.submitting) {\n      this.setState(() => ({ submitting: true }));\n\n      const deleteReport = () => {\n        setTimeout(() => {\n          if (this._isMounted) {\n            this.props.removeReport(this.state.report.reportId);\n          }\n        }, 500);\n      };\n\n      const prepDelete = () => {\n        this.setState(() => ({\n          willDelete: true,\n        }));\n      };\n\n      this.props.fetchRequest({\n        url: `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/reports/${this.state.report.reportId}`,\n        method: 'patch',\n        body: `{\n        \"action\": \"${action}\"\n      }`,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }).then(() => {\n        prepDelete();\n        deleteReport();\n      });\n    }\n  }\n\n\n  render() {\n    const { state } = this;\n    const { report } = state;\n    let reportedPost = '';\n    let reportComment = '';\n    if (report.contentType === 'comment') {\n      const reportedComment = report.comment;\n      reportedPost = reportedComment.post;\n      reportComment = (\n        <div>\n          <div className=\"report-content\">\n            <div className=\"head\">\n              <div className=\"user-image\">\n                <a href=\"/\">\n                  <img src={reportedComment.author.passportUrl} alt={`${reportedComment.author.firstName} ${reportedComment.author.lastName}`} />\n                </a>\n              </div>\n              <a href=\"/\" className=\"user-name\">{`${reportedComment.author.firstName} ${reportedComment.author.lastName}`}</a>\n            </div>\n            <div className=\"\">{reportedComment.comment}</div>\n          </div>\n          <div className=\"trailer\" />\n        </div>\n      );\n    } else {\n      reportedPost = report.contentType === 'article'\n        ? { ...report.article, type: 'article' }\n        : { ...report.gif, type: 'gif' };\n    }\n    const content = reportedPost.type === 'gif' ? <img className=\"item\" src={reportedPost.imageUrl} alt=\"\" /> : <div className=\"item\">{reportedPost.article}</div>;\n    const willDelete = state.willDelete ? 'remove' : '';\n\n    return (\n      <div\n        className={`report ${report.contentType} ${willDelete}`}\n        id={report.id}\n        data-type={report.type}\n      >\n        <div className=\"head\">\n          <div className=\"user-image\">\n            <a href=\"man\">\n              <img src={report.reporter.passportUrl} alt={`${report.reporter.firstName} ${report.reporter.lastName}`} />\n            </a>\n          </div>\n          <div>\n            <a href=\"man\" className=\"user-name\">{`${report.reporter.firstName} ${report.reporter.lastName}`}</a>\n            <p\n              className=\"date-time\"\n              data-timestamp={report.reportedOn}\n              title={lib.getRelativeTime(report.reportedOn, false)}\n            >{state.dateTimeRef}\n            </p>\n          </div>\n          <span className=\"report-id\">{report.reportId}</span>\n        </div>\n\n        <div className=\"body\">\n          <div className=\"report-details\">\n            <div className=\"detail\">\n              <div className=\"info\">content</div>\n              <div className=\"value\">{report.contentType}</div>\n            </div>\n            <div className=\"detail\">\n              <div className=\"info\">flag</div>\n              <div className=\"value\">{report.flag}</div>\n            </div>\n            <div className=\"detail\">\n              <div className=\"info\">reason</div>\n              <div className=\"value\">{report.reason}</div>\n            </div>\n          </div>\n          {reportComment}\n          <div className=\"report-content\">\n            <div className=\"head\">\n              <div className=\"user-image\">\n                <a href=\"man\">\n                  <img src={reportedPost.author.passportUrl} alt={`${reportedPost.author.firstName} ${reportedPost.author.lastName}`} />\n                </a>\n              </div>\n              <a href=\"man\" className=\"user-name\">{`${reportedPost.author.firstName} ${reportedPost.author.lastName}`}</a>\n            </div>\n            <div className=\"title\">{reportedPost.title}</div>\n            <div className=\"content\">\n              {content}\n            </div>\n          </div>\n        </div>\n        <div className=\"bottom\">\n          <button\n            type=\"button\"\n            className={`action btn btn-danger ${state.submitting ? 'disabled' : ''}`}\n            onClick={() => { this.attendTo('delete'); }}\n          > delete\n          </button>\n          <button\n            type=\"button\"\n            className={`action btn btn-warning ${state.submitting ? 'disabled' : ''}`}\n            onClick={() => { this.attendTo('ignore'); }}\n          > ignore\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nReport.propTypes = {\n  report: PropTypes.object.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n  removeReport: PropTypes.func.isRequired,\n};\n\nexport default Report;\n","import React from 'react';\nimport '../css/error.css';\nimport PropTypes from 'prop-types';\n\nclass Error extends React.Component {\n  render() {\n    const { history } = this.props;\n    return (\n      <div id=\"errorPage\">\n        <span role=\"img\" className=\"icon\"></span>\n        <h1>4** Error</h1>\n        <p>This page does not exist or you don't have access to it</p>\n        <button\n          type=\"button\"\n          className=\"btn\"\n          onClick={() => {\n            history.push('/feeds');\n          }}\n        >Go back to feeds\n        </button>\n      </div>\n    );\n  }\n}\n\nError.propTypes = {\n  history: PropTypes.object.isRequired,\n};\nexport default Error;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Report from './Report';\nimport '../css/report.css';\nimport '../css/reports.css';\nimport lib from '../js/lib';\nimport Error from './Error';\n\n\nclass Reports extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      reports: [],\n      loading: true,\n    };\n\n    this._isMounted = false;\n    this.fetchRequest = this.props.fetchRequest;\n    this.loadReports = this.loadReports.bind(this);\n    this.removeReport = this.removeReport.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.props.pageSwitch('reports');\n\n    if (this.props.sessionUser.isAdmin) {\n      this.loadReports();\n    } else {\n      this.setState(() => ({\n        loading: false,\n      }));\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  loadReports() {\n    // Get all reports\n    this.fetchRequest({\n      url: 'https://akintomiwa-capstone-backend.herokuapp.com/api/v1/reports',\n    }).then((reports) => {\n      if (this._isMounted === true) {\n        // save reports\n        this.setState(() => ({\n          reports,\n          loading: false,\n        }));\n      }\n    }).catch(() => {\n      // No report found\n      if (this._isMounted === true) {\n        this.setState(() => ({\n          loading: false,\n        }));\n      }\n    });\n  }\n\n  removeReport(id) {\n    const { reports } = this.state;\n    const newReports = [];\n\n    for (let i = 0; i < reports.length; i += 1) {\n      if (reports[i].reportId !== id) {\n        newReports.push(reports[i]);\n      }\n    }\n\n    this.setState(() => ({\n      reports: newReports,\n    }));\n\n    lib.popMessage('Report attended to');\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <span className=\"fa fa-spinner fa-spin loader\" />\n        </div>\n      );\n    }\n\n    if (this.props.sessionUser.isAdmin) {\n      if (this.state.reports.length === 0) {\n        return (\n          <div className=\"no-reports\">\n            <span>there are no reports to show</span>\n          </div>\n        );\n      }\n\n      const reportsArr = this.state.reports;\n      const reports = [];\n      for (let i = 0; i < reportsArr.length; i += 1) {\n        reports.push(<Report\n          {...this.props}\n          report={reportsArr[i]}\n          key={reportsArr[i].reportId}\n          removeReport={this.removeReport}\n        />);\n      }\n      return (\n        <div id=\"reports\">\n          {reports}\n        </div>\n      );\n    }\n\n    return <Error {...this.props} />;\n  }\n}\n\nReports.propTypes = {\n  sessionUser: PropTypes.object.isRequired,\n  pageSwitch: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n};\n\n\nexport default Reports;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\nimport '../css/createuser.css';\nimport Error from './Error';\n\nconst $ = (query) => document.querySelector(query);\nconst defaultStates = {\n  submitting: false,\n  passport: null,\n  firstName: '',\n  lastName: '',\n  email: '',\n  department: '',\n  jobRole: '',\n  password: '',\n  gender: '',\n  address: '',\n  emailError: '',\n  passwordError: '',\n};\n\nclass CreateUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...defaultStates,\n      departments: props.companyDeptStruc,\n    };\n\n    this._isMounted = false;\n    this.fetchRequest = this.props.fetchRequest;\n    this.onJobRoleChange = this.onJobRoleChange.bind(this);\n    this.onDepartmentChange = this.onDepartmentChange.bind(this);\n    this.onGenderChange = this.onGenderChange.bind(this);\n    this.regInputsState = this.regInputsState.bind(this);\n    this.onDisplayChange = this.onDisplayChange.bind(this);\n    this.createUser = this.createUser.bind(this);\n    this.resetForm = this.resetForm.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    if (this.props.sessionUser.isAdmin) {\n      this.props.pageSwitch('createUser');\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onDisplayChange(event) {\n    const el = event.target;\n    const regDisplay = $('#regDisplay');\n    const passport = el.files[0];\n    if (passport && passport.type === 'image/jpeg') {\n      if (passport.size > 5242880) { // 5mb\n        lib.popMessage(\"can't upload image larger than 5mb\");\n      } else {\n        const fileReader = new FileReader();\n        fileReader.readAsDataURL(passport);\n\n        fileReader.onerror = () => {\n          lib.popMessage('Oops!, we couldn\\'t attach the file picked please try again or try another one');\n        };\n\n        fileReader.onload = (frEvent) => {\n          const fileSrc = frEvent.target.result;\n          $('#regPassport').src = fileSrc;\n          regDisplay.classList.add('selected');\n          regDisplay.classList.remove('Error');\n          if (this._isMounted) {\n            this.setState(() => ({ passport }));\n          }\n        };\n      }\n    } else {\n      lib.popMessage('Image as to be a JPEG (.jpg or .jpeg) file');\n    }\n  }\n\n  onJobRoleChange(event) {\n    const jobRole = event.target.value;\n    this.setState(() => ({ jobRole }));\n  }\n\n  onDepartmentChange(event) {\n    const department = event.target.value;\n    this.setState(() => ({ department, jobRole: '' }));\n  }\n\n  onGenderChange(event) {\n    const gender = event.target.value;\n    this.setState(() => ({ gender: gender === 'male' || gender === 'female' ? gender : '' }));\n  }\n\n  regInputsState(event) {\n    // eslint-disable-next-line dot-notation\n    const input = event.target.name;\n    if (Object.keys(this.state).indexOf(input) !== -1) {\n      const { value } = event.target;\n      this.setState(() => {\n        const n = {};\n        n[input] = value;\n        return n;\n      });\n\n      if (!lib.isEmpty(value)) event.target.classList.remove('Error');\n    }\n  }\n\n  resetForm() {\n    if (this._isMounted) this.setState(() => (defaultStates));\n\n    $('#regPassport').src = '';\n    $('#regPassportPicker').value = null;\n  }\n\n  createUser() {\n    const { state } = this;\n    if (state.submitting === false) {\n      const validate = () => {\n        let err = false;\n\n        if (state.passport === null) {\n          $('#regDisplay').classList.add('Error');\n          err = true;\n        } else $('#regDisplay').classList.remove('Error');\n\n        if (lib.isEmpty(state.firstName)) {\n          $('#regForm .form-element[name=firstName]').classList.add('Error');\n          err = true;\n        } else $('#regForm .form-element[name=firstName]').classList.remove('Error');\n\n        if (lib.isEmpty(state.lastName)) {\n          $('#regForm .form-element[name=lastName]').classList.add('Error');\n          err = true;\n        } else $('#regForm .form-element[name=lastName]').classList.remove('Error');\n\n        try {\n          if (!lib.isEmpty(state.email)) {\n            if (lib.isEmail(state.email)) {\n              this.setState(() => ({ emailError: '' }));\n              $('#regForm .form-element[name=email]').classList.remove('Error');\n            } else {\n              this.setState(() => ({ emailError: 'not a valid email address' }));\n              throw Error;\n            }\n          } else throw Error;\n        } catch (error) {\n          $('#regForm .form-element[name=email]').classList.add('Error');\n          err = true;\n        }\n\n        try {\n          if (!lib.isEmpty(state.password)) {\n            if (state.password.length >= 8) {\n              this.setState(() => ({ passwordError: '' }));\n              $('#regForm .form-element[name=password]').classList.remove('Error');\n            } else {\n              this.setState(() => ({ passwordError: 'password needs to be atleast 8 characters long' }));\n              throw Error;\n            }\n          } else throw Error;\n        } catch (error) {\n          $('#regForm .form-element[name=password]').classList.add('Error');\n          err = true;\n        }\n\n        if (['male', 'female'].indexOf(state.gender) === -1) {\n          $('#regForm .form-element[name=gender]').classList.add('Error');\n          err = true;\n        } else $('#regForm .form-element[name=gender]').classList.remove('Error');\n\n        const { departments } = this.state;\n        const { department } = this.state;\n        if (Object.keys(departments).indexOf(department) === -1) {\n          $('#regForm .form-element[name=department]').classList.add('Error');\n          $('#regForm .form-element[name=jobRole]').classList.add('Error');\n          err = true;\n        } else {\n          $('#regForm .form-element[name=department]').classList.remove('Error');\n          const deptJobRoles = departments[department].jobRoles;\n          let jobRoleValid = false;\n          for (let i = 0; i < deptJobRoles.length; i += 1) {\n            if (deptJobRoles[i].id === this.state.jobRole) {\n              jobRoleValid = true;\n              break;\n            }\n          }\n\n          if (jobRoleValid) {\n            $('#regForm .form-element[name=jobRole]').classList.remove('Error');\n          } else {\n            err = true;\n            $('#regForm .form-element[name=jobRole]').classList.add('Error');\n          }\n        }\n\n        if (lib.isEmpty(state.address)) {\n          $('#regForm .form-element[name=address]').classList.add('Error');\n          err = true;\n        } else $('#regForm .form-element[name=address]').classList.remove('Error');\n\n        return !err;\n      };\n\n\n      if (validate()) {\n        this.setState(() => ({ submitting: true }));\n\n        const form = new FormData();\n        form.append('passport', state.passport);\n        form.append('firstName', state.firstName);\n        form.append('lastName', state.lastName);\n        form.append('email', state.email);\n        form.append('password', state.password);\n        form.append('gender', state.gender);\n        form.append('jobRole', state.jobRole);\n        form.append('department', state.department);\n        form.append('address', state.address);\n\n        this.fetchRequest({\n          url: 'https://akintomiwa-capstone-backend.herokuapp.com/api/v1/auth/create-user',\n          method: 'POST',\n          body: form,\n        }).then(() => {\n          if (this._isMounted) {\n            this.resetForm();\n            lib.popMessage('user account created successfully');\n          }\n        }).catch((error) => {\n          if (error.body.email) {\n            $('#regForm .form-element[name=email]').classList.add('Error');\n            this.setState(() => ({ emailError: 'email invalid or already exist' }));\n            lib.popMessage('Opps!, couldn\\'t create user account ');\n          } else lib.popMessage('Opps!, couldn\\'t complete your request please try again');\n        }).finally(() => {\n          if (this._isMounted) this.setState(() => ({ submitting: false }));\n        });\n      } else {\n        lib.popMessage('Please complete the form before submitting');\n      }\n    }\n  }\n\n  render() {\n    if (!this.props.sessionUser.isAdmin) {\n      return <Error />;\n    }\n\n    const departmentsArr = [];\n    const { departments } = this.state;\n    const deptsKeys = Object.keys(departments);\n    deptsKeys.forEach((key) => {\n      departmentsArr.push(<option value={key} key={key}>{departments[key].name}</option>);\n    });\n\n    const jobRolesArr = [];\n    const { department } = this.state;\n    if (deptsKeys.indexOf(department) !== -1) {\n      const deptJobRoles = departments[department].jobRoles;\n      deptJobRoles.forEach((jobRole) => {\n        jobRolesArr.push(<option value={jobRole.id} key={jobRole.id}>{jobRole.title}</option>);\n      });\n    }\n\n    return (\n      <div id=\"regForm\">\n        <h2 id=\"regFormLabel\">Create a new user account</h2>\n        <div id=\"regDisplay\" onClick={() => { $('#regPassportPicker').click(); }}>\n          <img id=\"regPassport\" alt=\"\" />\n          <div className=\"overlay\">\n            <p className=\"far fa-image\" />\n            <p>pick passport</p>\n          </div>\n          <input type=\"file\" className=\"form-element\" name=\"passport\" id=\"regPassportPicker\" accept=\"image/jpeg,image/jpg\" onChange={this.onDisplayChange} />\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">first name</p>\n          <input type=\"text\" name=\"firstName\" value={this.state.firstName} className=\"form-element\" placeholder=\"user first name\" onChange={this.regInputsState} />\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">last name</p>\n          <input type=\"text\" name=\"lastName\" value={this.state.lastName} className=\"form-element\" placeholder=\"user last name\" onChange={this.regInputsState} />\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">email</p>\n          <input type=\"text\" name=\"email\" value={this.state.email} className=\"form-element\" placeholder=\"user email address\" onChange={this.regInputsState} />\n          <p className={`error-msg ${this.state.emailError === '' ? 'hide' : ''}`}>{this.state.emailError}</p>\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">password</p>\n          <input type=\"password\" name=\"password\" value={this.state.password} className=\"form-element\" placeholder=\"user password\" onChange={this.regInputsState} />\n          <p className={`error-msg ${this.state.passwordError === '' ? 'hide' : ''}`}>{this.state.passwordError}</p>\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">gender</p>\n          <select className={`form-element ${lib.isEmpty(this.state.gender) ? 'placeholder' : ''}`} name=\"gender\" value={lib.isEmpty(this.state.gender) ? '-placeholder-' : this.state.gender} onChange={this.onGenderChange}>\n            <option value=\"-placeholder-\" disabled>user gender</option>\n            <option value=\"male\">male</option>\n            <option value=\"female\">female</option>\n          </select>\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">department</p>\n          <select className={`form-element ${lib.isEmpty(this.state.department) ? 'placeholder' : ''}`} value={lib.isEmpty(this.state.department) ? '-placeholder-' : this.state.department} name=\"department\" onChange={this.onDepartmentChange}>\n            <option value=\"-placeholder-\" disabled>user department</option>\n            {departmentsArr}\n          </select>\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">job role</p>\n          <select className={`form-element ${lib.isEmpty(this.state.jobRole) ? 'placeholder' : ''}`} value={lib.isEmpty(this.state.jobRole) ? '-placeholder-' : this.state.jobRole} name=\"jobRole\" onChange={this.onJobRoleChange}>\n            <option value=\"-placeholder-\" disabled>user job role</option>\n            {jobRolesArr}\n          </select>\n        </div>\n\n        <div className=\"input-group\">\n          <p className=\"form-label\">address</p>\n          <input type=\"text\" name=\"address\" value={this.state.address} className=\"form-element\" placeholder=\"user home address\" onChange={this.regInputsState} />\n        </div>\n\n        <button type=\"submit\" className={`btn btn-success ${this.state.submitting ? 'disabled' : ''}`} onClick={this.createUser}>\n          <span className=\"fas fa-user-plus icon\" />\n          create user\n        </button>\n      </div>\n\n    );\n  }\n}\n\nCreateUser.propTypes = {\n  sessionUser: PropTypes.object.isRequired,\n  companyDeptStruc: PropTypes.object.isRequired,\n  pageSwitch: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n};\n\nexport default CreateUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\nimport '../css/addcomment.css';\n\n\nconst defaultState = {\n  comment: '',\n  isfocused: false,\n  submitting: false,\n};\n\nclass AddComment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = defaultState;\n\n    this.onCommentInput = this.onCommentInput.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.submitComment = this.submitComment.bind(this);\n  }\n\n  onCommentInput(event) {\n    const { value } = event.target;\n    this.setState(() => ({ comment: value }));\n  }\n\n  onFocus() {\n    this.setState(() => ({\n      isfocused: true,\n    }));\n  }\n\n  onBlur() {\n    this.setState(() => ({\n      isfocused: false,\n    }));\n  }\n\n  submitComment() {\n    if (!lib.isEmpty(this.state.comment)) {\n      this.setState(() => ({ submitting: true }));\n      const { post } = this.props;\n      const { fetchRequest } = this.props;\n      const path = post.type === 'gif' ? 'gifs' : 'articles';\n\n      fetchRequest({\n        url: `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/${path}/${post.id}/comment`,\n        method: 'POST',\n        body: `{\n          \"comment\":\"${this.state.comment}\"\n        }`,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }).then((response) => {\n        this.setState(() => (defaultState));\n\n        if (this.props.post.comments) {\n          this.props.registerComment({\n            authorId: this.props.sessionUser.id,\n            comment: response.comment,\n            commentId: response.commentId,\n            createdOn: response.createdOn,\n          });\n        }\n        lib.popMessage('Comment created successfully');\n      }).catch((error) => {\n        if (error.status === 404) {\n          this.props.history.push('/');\n          lib.popMessage('Post not found!');\n        } else {\n          lib.popMessage('we were unable create your comment please try again');\n        }\n      })\n        .finally(() => {\n          this.setState(() => ({ submitting: false }));\n        });\n    }\n  }\n\n\n  render() {\n    return (\n      <div className={`add-comment ${this.state.submitting ? 'disabled' : ''}`}>\n        <div className=\"user-image\">\n          <a href=\"/\">\n            <img\n              src={this.props.sessionUser.passportUrl}\n              alt={`${this.props.sessionUser.firstName} ${this.props.sessionUser.lastName}`}\n            />\n          </a>\n        </div>\n        <div className={`comment-input ${this.state.isfocused ? 'focused' : ''}`}>\n          <input\n            type=\"text\"\n            className=\"comment form-element\"\n            placeholder=\"input comment here\"\n            value={this.state.comment}\n            onChange={this.onCommentInput}\n            onFocus={this.onFocus}\n            onBlur={this.onBlur}\n          />\n          <span className={`fas ${this.state.submitting ? 'fa-spinner fa-spin' : 'fa-paper-plane'} icon submit-comment`} onClick={this.submitComment} />\n        </div>\n      </div>\n    );\n  }\n}\n\nAddComment.propTypes = {\n  post: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n  registerComment: PropTypes.func.isRequired,\n};\n\nexport default AddComment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\n\nclass CommentMoreActions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.moreActions = null;\n    this.focusMoreActions = this.focusMoreActions.bind(this);\n    this.blurMoreActions = this.blurMoreActions.bind(this);\n    this.revealReportDialog = this.revealReportDialog.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.showMoreActions) {\n      this.moreActions.focus();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  focusMoreActions(moreActions) {\n    if (moreActions) {\n      moreActions.focus();\n      this.moreActions = moreActions;\n      const { moreActionEl } = this.props;\n      const cord = lib.getCordinates(moreActionEl);\n      const moreActionWdth = moreActions.offsetWidth;\n      let left = cord.left + moreActionEl.offsetWidth;\n\n      const deviceWidth = document.body.clientWidth;\n      left = left + moreActionWdth > deviceWidth ? deviceWidth - moreActionWdth : left;\n      moreActions.style.left = `${left}px`;\n    }\n  }\n\n  blurMoreActions(event) {\n    event.target.blur();\n    this.props.hideMoreActions();\n  }\n\n  revealReportDialog(event) {\n    event.stopPropagation();\n    this.moreActions.blur();\n    this.props.focusForReport();\n    this.props.showReportDialog();\n  }\n\n  render() {\n    const { showMoreActions } = this.props;\n    const { moreActionEl } = this.props;\n    if (!showMoreActions || !moreActionEl) {\n      return (<div />);\n    }\n\n    const view = this.props.preview ? ' view' : '';\n\n    return (\n      <button\n        type=\"button\"\n        className={`more-actions-dialog${view}`}\n        ref={this.focusMoreActions}\n        onBlur={this.blurMoreActions}\n      >\n        <span className=\"action\" onClick={this.revealReportDialog}>\n          <span className=\"fas fa-flag-checkered icon\" />\n          report\n        </span>\n      </button>\n    );\n  }\n}\n\n\nCommentMoreActions.propTypes = {\n  moreActionEl: PropTypes.object,\n  showMoreActions: PropTypes.bool.isRequired,\n  hideMoreActions: PropTypes.func.isRequired,\n  showReportDialog: PropTypes.func.isRequired,\n  focusForReport: PropTypes.func.isRequired,\n  preview: PropTypes.bool.isRequired,\n\n};\n\nCommentMoreActions.defaultProps = {\n  moreActionEl: false,\n};\nexport default CommentMoreActions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\n\nconst flags = [\n  'inappropriate',\n  'abusive',\n  'bullying',\n  'scam',\n  'misleading',\n];\n\nclass ReportContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      reporting: false,\n      flag: 'inappropriate',\n      flagError: false,\n      reason: '',\n      reasonError: false,\n    };\n\n    this._isMounted = false;\n    this.hideReportDialog = this.hideReportDialog.bind(this);\n    this.preventHide = this.preventHide.bind(this);\n    this.regInputsState = this.regInputsState.bind(this);\n    this.submitReport = this.submitReport.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  preventHide(event) {\n    event.stopPropagation();\n  }\n\n  hideReportDialog(event) {\n    if (event) event.stopPropagation();\n    this.props.hideReportDialog();\n  }\n\n  regInputsState(event) {\n    // eslint-disable-next-line dot-notation\n    const input = event.target.name;\n    const { value } = event.target;\n    this.setState(() => {\n      const n = {};\n      n[input] = value;\n      return n;\n    });\n  }\n\n  submitReport() {\n    const { state } = this;\n    let isValid = true;\n    if (flags.indexOf(state.flag) === -1) {\n      this.setState(() => ({\n        flagError: true,\n      }));\n      isValid = false;\n    } else {\n      this.setState(() => ({\n        flagError: false,\n      }));\n    }\n\n    if (lib.isEmpty(state.reason)) {\n      this.setState(() => ({\n        reasonError: true,\n      }));\n      isValid = false;\n    } else {\n      this.setState(() => ({\n        reasonError: false,\n      }));\n    }\n\n    if (isValid && !this.state.reporting) {\n      this.setState(() => ({\n        reporting: true,\n      }));\n\n      const { content } = this.props;\n      let url = '';\n      if (['gif', 'article'].indexOf(content.type) !== -1) {\n        url = `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/${content.type}s/${content.id}/flag`;\n      } else {\n        // Content is definitely comment\n        const { post } = this.props;\n        url = `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/${post.type}s/${post.id}/comment/${content.commentId}/flag`;\n      }\n\n      this.props.fetchRequest({\n        url,\n        method: 'post',\n        body: `{\n          \"flag\": \"${state.flag}\",\n          \"reason\": \"${state.reason}\"\n        }`,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }).then(() => {\n        lib.popMessage('report created successfully');\n        if (this._isMounted) {\n          this.hideReportDialog();\n        }\n      }).catch(() => {\n        if (this._isMounted) {\n          this.setState(() => ({\n            reporting: false,\n          }));\n          lib.popMessage('sorry, we were unable to complete your request please try again');\n        }\n      });\n    }\n  }\n\n  render() {\n    const { content } = this.props;\n    const flagError = this.state.flagError ? <p className=\"error\">pick a flag</p> : '';\n    const reasonError = this.state.reasonError ? <p className=\"error\">please state why you are flagging this {content.type}</p> : '';\n    const reportflags = [];\n    flags.forEach((flag) => {\n      reportflags.push(<option value={flag} key={flag}>{flag}</option>);\n    });\n\n    return (\n      <div id=\"contentReportDialog\" onClick={this.hideReportDialog}>\n        <div className=\"container\">\n          <div className=\"content\" onClick={this.preventHide}>\n            <span className=\"cancel fas fa-times\" onClick={this.hideReportDialog} />\n            <h1 className=\"header\">create a report on this {content.type}</h1>\n\n            <div className=\"field\">\n              <span className=\"form-label\">flag as</span>\n              <select className=\"form-element\" name=\"flag\" value={this.state.flag} onChange={this.regInputsState}>\n                {reportflags}\n              </select>\n              {flagError}\n            </div>\n\n            <div className=\"field\">\n              <span className=\"form-label\">reason</span>\n              <textarea className=\"form-element\" name=\"reason\" value={this.state.reason} onChange={this.regInputsState} />\n              {reasonError}\n            </div>\n            <button type=\"submit\" className={`btn btn-danger${this.state.reporting ? ' disabled' : ''}`} onClick={this.submitReport}>\n              <span className=\"fas fa-flag-checkered icon\" />\n              submit report\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nReportContent.propTypes = {\n  post: PropTypes.object.isRequired,\n  content: PropTypes.object.isRequired,\n  hideReportDialog: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n};\n\nexport default ReportContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\nimport MoreAction from './CommentMoreAction';\nimport '../css/comment.css';\nimport ReportContent from './ReportContent';\n\nclass Comment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comment: {\n        ...props.comment,\n        author: false,\n      },\n      dateTimeRef: lib.getRelativeTime(props.comment.createdOn),\n      showMoreActions: false,\n      reportFocused: false,\n      showReportDialog: false,\n\n    };\n    this._isMounted = false;\n    this.moreActionEl = null;\n    this.updateCommentDatetimeRef = null;\n    this.showMoreActions = this.showMoreActions.bind(this);\n    this.hideMoreActions = this.hideMoreActions.bind(this);\n    this.focusForReport = this.focusForReport.bind(this);\n    this.showReportDialog = this.showReportDialog.bind(this);\n    this.showReportDialog = this.showReportDialog.bind(this);\n    this.hideReportDialog = this.hideReportDialog.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n\n    // Get comment author\n    this.props.getUser(`${this.state.comment.authorId}`).then((user) => {\n      if (this._isMounted) {\n        this.setState((prevState) => ({\n          comment: {\n            ...prevState.comment,\n            author: user,\n          },\n        }));\n        // Update comments's reference time\n        this.updateCommentDatetimeRef = setInterval(() => {\n          if (this._isMounted) {\n            this.setState((prevState) => ({\n              dateTimeRef: lib.getRelativeTime(prevState.comment.createdOn),\n            }));\n          }\n        }, 60000); // 60 seconds (1 min)\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    clearInterval(this.updateCommentDatetimeRef);\n  }\n\n  showMoreActions() {\n    this.setState(() => ({\n      showMoreActions: true,\n    }));\n  }\n\n  hideMoreActions() {\n    this.setState(() => ({\n      showMoreActions: false,\n    }));\n  }\n\n  focusForReport() {\n    this.setState(() => ({\n      reportFocused: true,\n    }));\n  }\n\n  showReportDialog() {\n    this.setState(() => ({\n      showReportDialog: true,\n    }));\n  }\n\n  hideReportDialog() {\n    this.setState(() => ({\n      showReportDialog: false,\n      reportFocused: false,\n    }));\n  }\n\n  render() {\n    const { comment } = this.state;\n    const reportFocused = this.state.reportFocused ? ' report-focused' : '';\n    const reportDialog = this.state.showReportDialog\n      ? (\n        <ReportContent\n          {...this.props}\n          content={{ ...comment, type: 'comment' }}\n          hideReportDialog={this.hideReportDialog}\n        />\n      ) : '';\n    if (comment.author !== false) {\n      return (\n        <div className={`post-comment${reportFocused}`} id={comment.commentId}>\n          <div>\n            <div className=\"user-image\">\n              <a href=\"/\">\n                <img\n                  src={comment.author.passportUrl}\n                  alt={`${comment.author.firstName} ${comment.author.lastName}`}\n                />\n              </a>\n            </div>\n            <div className=\"comment-details-container\">\n              <div className=\"comment-details\">\n                <div>\n                  <span className=\"author-name\">{`${comment.author.firstName} ${comment.author.lastName}`}</span>\n                  <span className=\"content\">{comment.comment}</span>\n                </div>\n                <span className=\"more-action\" onClick={this.showMoreActions} ref={(el) => { this.moreActionEl = el; }}>\n                  <span></span>\n                  <span></span>\n                  <span></span>\n                </span>\n                <MoreAction\n                  {...this.props}\n                  comment={comment}\n                  showMoreActions={this.state.showMoreActions}\n                  hideMoreActions={this.hideMoreActions}\n                  focusForReport={this.focusForReport}\n                  showReportDialog={this.showReportDialog}\n                  moreActionEl={this.moreActionEl}\n                />\n              </div>\n            </div>\n          </div>\n          <div>\n            <div>\n              <span title={lib.getRelativeTime(comment.createdOn, false)}>\n                {this.state.dateTimeRef}\n              </span>\n            </div>\n          </div>\n          {reportDialog}\n        </div>\n      );\n    }\n    return (\n      <div />\n    );\n  }\n}\n\nComment.propTypes = {\n  comment: PropTypes.object.isRequired,\n  getUser: PropTypes.func.isRequired,\n};\nexport default Comment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass MoreActions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.moreActions = null;\n    this.editPost = this.editPost.bind(this);\n    this.focusMoreActions = this.focusMoreActions.bind(this);\n    this.blurMoreActions = this.blurMoreActions.bind(this);\n    this.promptDelete = this.promptDelete.bind(this);\n    this.revealReportDialog = this.revealReportDialog.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.showMoreActions) {\n      this.moreActions.focus();\n    }\n  }\n\n  editPost(event) {\n    event.stopPropagation();\n    const { post } = this.props;\n    this.props.history.push(`/post/${post.type}/${post.id}/edit`);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  focusMoreActions(moreActions) {\n    this.moreActions = moreActions;\n    if (moreActions) moreActions.focus();\n  }\n\n  blurMoreActions(event) {\n    event.target.blur();\n    this.props.hideMoreActions();\n  }\n\n  promptDelete(event) {\n    event.stopPropagation();\n    this.props.promptDelete();\n    this.moreActions.blur();\n    this.props.hideMoreActions();\n  }\n\n  revealReportDialog(event) {\n    event.stopPropagation();\n    this.moreActions.blur();\n    this.props.focusForReport();\n    this.props.showReportDialog();\n  }\n\n  render() {\n    const { showMoreActions } = this.props;\n    if (!showMoreActions) {\n      return (<div />);\n    }\n\n    let editPost = '';\n    let deletePost = '';\n    if (this.props.post.authorId === this.props.sessionUser.id) {\n      editPost = (\n        <span className=\"action\" onClick={this.editPost}>\n          <span className=\"fas fa-pencil-alt icon\" />\n          edit\n        </span>\n      );\n\n      deletePost = (\n        <span className=\"action\" onClick={this.promptDelete}>\n          <span className=\"fa fa-trash icon\" />\n          delete\n        </span>\n      );\n    }\n\n    return (\n      <button\n        type=\"button\"\n        className=\"more-actions-dialog\"\n        ref={this.focusMoreActions}\n        onBlur={this.blurMoreActions}\n      >\n        {editPost}\n        <span className=\"action\" onClick={this.revealReportDialog}>\n          <span className=\"fas fa-flag-checkered icon\" />\n          report\n        </span>\n        {deletePost}\n      </button>\n    );\n  }\n}\n\n\nMoreActions.propTypes = {\n  post: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  showMoreActions: PropTypes.bool.isRequired,\n  hideMoreActions: PropTypes.func.isRequired,\n  promptDelete: PropTypes.func.isRequired,\n  showReportDialog: PropTypes.func.isRequired,\n  focusForReport: PropTypes.func.isRequired,\n};\n\nexport default MoreActions;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport '../css/post.css';\nimport lib from '../js/lib';\nimport AddComment from './AddComment';\nimport Comment from './Comment';\nimport MoreActions from './PostMoreAction';\nimport ReportContent from './ReportContent';\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: {\n        ...this.props.post,\n        author: null,\n      },\n      dateTimeRef: '',\n      showMoreActions: false,\n      promptDelete: false,\n      deleting: false,\n      showReportDialog: false,\n      reportFocused: false,\n    };\n\n    this._isMounted = false;\n    this.updatePostDateTimeRef = null;\n    this.getAuthor = this.getAuthor.bind(this);\n    this.viewPost = this.viewPost.bind(this);\n    this.registerComment = this.registerComment.bind(this);\n    this.showMoreActions = this.showMoreActions.bind(this);\n    this.hideMoreActions = this.hideMoreActions.bind(this);\n    this.promptDelete = this.promptDelete.bind(this);\n    this.removeDeleteDialog = this.removeDeleteDialog.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.showReportDialog = this.showReportDialog.bind(this);\n    this.hideReportDialog = this.hideReportDialog.bind(this);\n    this.focusForReport = this.focusForReport.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    // Update post's reference time\n    if (this.props.preview === true) {\n      this.props.pageSwitch('post', true);\n    }\n\n    this.getAuthor().then(() => {\n      this.updatePostDateTimeRef = setInterval(() => {\n        if (this._isMounted) {\n          this.setState((prevState) => ({\n            dateTimeRef: lib.getRelativeTime(prevState.post.createdOn),\n          }));\n        }\n      }, 60000); // 60 seconds (1 min)\n\n      // unfocus new post\n      if (this.state.post.isNew && this.state.post.isNew === true) {\n        setTimeout(() => {\n          if (this._isMounted) {\n            this.setState((prevState) => ({\n              post: {\n                ...prevState.post,\n                isNew: false,\n              },\n            }));\n          }\n        }, 5000);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    clearInterval(this.updatePostDateTimeRef);\n  }\n\n  getAuthor() {\n    return new Promise((resolve) => {\n      this.props.getUser(`${this.state.post.authorId}`).then((user) => {\n        if (this._isMounted) {\n          this.setState((prevState) => ({\n            post: {\n              ...prevState.post,\n              author: user,\n            },\n            dateTimeRef: lib.getRelativeTime(prevState.post.createdOn),\n          }));\n          resolve();\n        }\n      });\n    });\n  }\n\n  registerComment(comment) {\n    this.setState((prevState) => ({\n      post: {\n        ...prevState.post,\n        comments: [\n          ...prevState.post.comments,\n          comment,\n        ],\n      },\n    }));\n  }\n\n  viewPost() {\n    const { getCurrentPage } = this.props;\n    const { post } = this.state;\n    if (getCurrentPage() !== 'post') this.props.history.push(`/post/${post.type}/${post.id}`);\n  }\n\n  showMoreActions(event) {\n    event.stopPropagation();\n    this.setState(() => ({\n      showMoreActions: true,\n    }));\n  }\n\n  hideMoreActions() {\n    this.setState(() => ({\n      showMoreActions: false,\n    }));\n  }\n\n  promptDelete() {\n    this.setState(() => ({\n      promptDelete: true,\n    }));\n  }\n\n  removeDeleteDialog() {\n    this.setState(() => ({\n      promptDelete: false,\n    }));\n  }\n\n  deletePost() {\n    const { post } = this.state;\n    if (!this.state.deleting) {\n      this.setState(() => ({\n        deleting: true,\n      }));\n      const { fetchRequest } = this.props;\n\n      const deletePost = (delay) => {\n        setTimeout(() => {\n          if (this._isMounted) {\n            this.props.onDelete(post);\n          }\n        }, delay);\n      };\n\n      const prepDelete = () => {\n        this.setState((prevState) => ({\n          post: {\n            ...prevState.post,\n            willDelete: true,\n          },\n        }));\n      };\n\n      fetchRequest({\n        url: `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/${post.type}s/${post.id}`,\n        method: 'delete',\n      }).then(() => {\n        let delay = 0;\n        if (!this.props.preview) {\n          delay = 500; // <== css animation time\n          prepDelete();\n        }\n        deletePost(delay);\n      }).catch(() => {\n        lib.popMessage(\"sorry, we couldn't comploete your request pleas try again\");\n      });\n    }\n  }\n\n  showReportDialog() {\n    this.setState(() => ({\n      showReportDialog: true,\n    }));\n  }\n\n  hideReportDialog() {\n    this.setState(() => ({\n      showReportDialog: false,\n      reportFocused: false,\n    }));\n  }\n\n  focusForReport() {\n    this.setState(() => ({\n      reportFocused: true,\n    }));\n  }\n\n  render() {\n    const currentPage = this.props.getCurrentPage();\n\n    let comments = null;\n    if (currentPage === 'post') {\n      const commentsArr = this.state.post.comments;\n      comments = [];\n\n      for (let i = 0; i < commentsArr.length; i += 1) {\n        comments.push(<Comment\n          {...this.props}\n          comment={commentsArr[i]}\n          key={commentsArr[i].commentId}\n        />);\n      }\n    } else {\n      comments = (\n        <button type=\"button\" className=\"view-comment\" title=\"view comments\">\n          <span className=\"far fa-comment-dots icon\" />\n          comments\n        </button>\n      );\n    }\n    const { post } = this.state;\n    if (post.author !== null) {\n      const { state } = this;\n      const content = post.type === 'gif'\n        ? <img className=\"item\" src={post.url} alt={post.title} />\n        : <div className=\"item\">{post.article}</div>;\n\n      const deleteDialog = state.promptDelete ? (\n        <div className=\"prompt\">\n          <div className=\"prompt-bk\" />\n          <div className=\"prompt-fk\">\n            <p>are you sure you want to delete this post?</p>\n            <div className=\"actions\">\n              <button type=\"submit\" className=\"btn btn-danger\" onClick={this.deletePost}>yes</button>\n              <button type=\"submit\" className=\"btn btn-negative\" onClick={this.removeDeleteDialog}>no</button>\n            </div>\n          </div>\n        </div>\n      ) : '';\n\n      const reportDialog = state.showReportDialog\n        ? (\n          <ReportContent\n            {...this.props}\n            content={this.props.post}\n            hideReportDialog={this.hideReportDialog}\n          />\n        ) : '';\n\n      const isNew = post.isNew && post.isNew === true ? ' new' : '';\n      const view = this.props.preview ? ' view' : '';\n      const remove = post.willDelete ? ' remove' : '';\n      const deleting = this.state.deleting ? ' deleting' : '';\n      const reportFocused = this.state.reportFocused ? ' report-focused' : '';\n      return (\n        <div className={`post${isNew}${view}${remove}${deleting}${reportFocused}`}>\n          <div onClick={this.viewPost}>\n            <div className=\"head\">\n              <div className=\"user-image\">\n                <a href=\"/\">\n                  <img\n                    src={post.author.passportUrl}\n                    alt={`${post.author.firstName} ${post.author.lastName}`}\n                  />\n                </a>\n              </div>\n              <div>\n                <a\n                  href=\"/\"\n                  className=\"user-name\"\n                  title=\"\"\n                >{`${post.author.firstName} ${post.author.lastName}`}\n                </a>\n                <p\n                  className=\"date-time\"\n                  data-timestamp={post.createdOn}\n                  title={lib.getRelativeTime(post.createdOn, false)}\n                >{this.state.dateTimeRef}\n                </p>\n              </div>\n              <button type=\"button\" className=\"more-action\" onClick={this.showMoreActions}>\n                <span></span>\n                <span></span>\n                <span></span>\n              </button>\n              <MoreActions\n                {...this.props}\n                showMoreActions={this.state.showMoreActions}\n                hideMoreActions={this.hideMoreActions}\n                promptDelete={this.promptDelete}\n                showReportDialog={this.showReportDialog}\n                focusForReport={this.focusForReport}\n                preview\n              />\n            </div>\n            <div className=\"body\">\n              <div className=\"title\">{post.title}</div>\n              <div className=\"content\">\n                {content}\n              </div>\n            </div>\n            {comments}\n          </div>\n          <AddComment {...this.props} registerComment={this.registerComment} />\n          {deleteDialog}\n          {reportDialog}\n        </div>\n      );\n    }\n    return (<div />);\n  }\n}\n\nPost.propTypes = {\n  preview: PropTypes.bool,\n  post: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  getUser: PropTypes.func.isRequired,\n  getCurrentPage: PropTypes.func.isRequired,\n  pageSwitch: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n};\nPost.defaultProps = {\n  preview: false,\n};\n\nexport default Post;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Post from './Post';\nimport '../css/posts.css';\n\n\nclass Posts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n\n    this._isMounted = false;\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    const registerPosts = (posts) => {\n      if (this._isMounted === true) {\n        // save posts\n        this.props.setPosts(posts);\n        this.setState(() => ({ loading: false }));\n      }\n    };\n\n    // Get all posts\n    const { fetchRequest } = this.props;\n    fetchRequest({\n      url: 'https://akintomiwa-capstone-backend.herokuapp.com/api/v1/feeds',\n    }).then((posts) => {\n      registerPosts(posts);\n    }).catch(() => {\n      registerPosts([]);\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onDelete(post) {\n    this.props.deletePost(post);\n  }\n\n  render() {\n    const posts = [];\n    const postsArr = this.props.getPosts();\n    for (let i = 0; i < postsArr.length; i += 1) {\n      posts.push(<Post\n        {...this.props}\n        post={postsArr[i]}\n        key={postsArr[i].id}\n        onDelete={this.onDelete}\n      />);\n    }\n\n    if (!this.state.loading && posts.length === 0) {\n      return (\n        <div className=\"empty-posts-tab\">\n          <span> there are no posts to show </span>\n        </div>\n      );\n    }\n\n    return (\n      <div id=\"posts\" className={this.state.loading ? 'loading' : ''}>\n        {posts}\n      </div>\n    );\n  }\n}\n\nPosts.propTypes = {\n  history: PropTypes.object.isRequired,\n  getUser: PropTypes.func.isRequired,\n  setPosts: PropTypes.func.isRequired,\n  getPosts: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n};\n\n\nexport default Posts;\n","import React from 'react';\nimport '../css/sharepost.css';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\n\nconst gifPost = {\n  type: 'gif',\n  title: '',\n  image: null,\n};\n\nconst articlePost = {\n  type: 'article',\n  title: '',\n  article: '',\n};\nconst $ = (query) => document.querySelector(query);\n\nclass SharePost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submitting: false,\n      focused: false,\n      post: articlePost,\n    };\n\n    this._isMounted = false;\n    this.onInputFocus = this.onInputFocus.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onInputBlur = this.onInputBlur.bind(this);\n    this.onGifChange = this.onGifChange.bind(this);\n    this.submitPost = this.submitPost.bind(this);\n    this.onGifDrop = this.onGifDrop.bind(this);\n    this.changePostType = this.changePostType.bind(this);\n    this.onArticleChange = this.onArticleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n\n  onInputFocus() {\n    this.setState(() => ({\n      focused: true,\n    }));\n  }\n\n  onInputChange(event) {\n    // eslint-disable-next-line dot-notation\n    const input = event.target.name;\n    if (Object.keys(this.state.post).indexOf(input) !== -1) {\n      const { value } = event.target;\n      this.setState((prevState) => {\n        const n = {};\n        n[input] = value;\n        return {\n          post: {\n            ...prevState.post,\n            ...n,\n          },\n        };\n      });\n\n      if (!lib.isEmpty(value)) event.target.classList.remove('Error');\n    }\n  }\n\n  onInputBlur() {\n    this.setState(() => ({\n      focused: false,\n    }));\n  }\n\n  onGifChange(event) {\n    const el = event.target;\n    const postGifBlock = $('#postGifBlock');\n    const gif = el.files[0];\n    if (gif && gif.type === 'image/gif') {\n      if (gif.size > 10485760) { // 10mb\n        lib.popMessage(\"can't upload image larger than 10mb\");\n      } else {\n        const fileReader = new FileReader();\n        fileReader.readAsDataURL(gif);\n\n        fileReader.onerror = () => {\n          lib.popMessage('Oops!, we couldn\\'t attach the file picked please try again or try another one');\n        };\n\n        fileReader.onload = (frEvent) => {\n          const fileSrc = frEvent.target.result;\n          $('#postGif').src = fileSrc;\n          postGifBlock.classList.remove('Error');\n          if (this._isMounted) {\n            this.setState((prevState) => ({\n              post: {\n                ...prevState.post,\n                image: gif,\n              },\n            }));\n          }\n        };\n      }\n    } else {\n      lib.popMessage('Image as to be a GIF (.gif) file');\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  onGifDragLeave() {\n    $('#postGifBlock').classList.remove('drag-over');\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  onGifDragOver(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    $('#postGifBlock').classList.add('drag-over');\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  onGifDrop(event) {\n    event.preventDefault();\n    const handleDrop = (pickedFile) => {\n      // Emulator event structure (accept only file)\n      if (pickedFile.kind === 'file') {\n        const file = {\n          target: {\n            files: [pickedFile.getAsFile()],\n          },\n        };\n        this.onGifChange(file);\n      }\n    };\n\n    if (event.dataTransfer.items) {\n      // Use DataTransferItemList interface to access the file(s)\n      handleDrop(event.dataTransfer.items[0]);\n    } else {\n      // Use DataTransfer interface to access the file(s)\n      handleDrop(event.dataTransfer.files[0]);\n    }\n  }\n\n  onArticleChange(event) {\n    const article = event.target.value;\n    this.setState((prevState) => ({ post: { ...prevState.post, article } }));\n\n    if (!lib.isEmpty(article)) event.target.classList.remove('Error');\n  }\n\n  changePostType(event, type) {\n    const post = type === 'gif' ? gifPost : articlePost;\n    this.setState(() => ({ post }));\n  }\n\n  resetForm() {\n    const post = this.state.post.type === 'gif' ? gifPost : articlePost;\n    this.setState(() => ({ post }));\n\n    if (post.type === 'gif') {\n      $('#postGif').src = '';\n      $('#gifPicker').value = null;\n    }\n  }\n\n  submitPost() {\n    if (this.state.submitting === false) {\n      const { post } = this.state;\n      const validate = () => {\n        let err = false;\n\n        if (lib.isEmpty(post.title)) {\n          $('#sharePost .content .form-element[name=title]').classList.add('Error');\n          err = true;\n        } else $('#sharePost .content .form-element[name=title]').classList.remove('Error');\n\n        if (post.type === 'gif') {\n          if (post.image === null) {\n            $('#postGifBlock').classList.add('Error');\n            err = true;\n          } else $('#postGifBlock').classList.remove('Error');\n        } else if (lib.isEmpty(post.article)) {\n          $('#sharePost .content .form-element[name=article]').classList.add('Error');\n          err = true;\n        } else $('#sharePost .content .form-element[name=article]').classList.remove('Error');\n\n        return !err;\n      };\n\n      if (validate()) {\n        this.setState(() => ({ submitting: true }));\n\n        let form = null;\n        let url = '';\n        let contentType = false;\n        if (post.type === 'gif') {\n          form = new FormData();\n          form.append('title', post.title);\n          form.append('image', post.image);\n          url = 'https://akintomiwa-capstone-backend.herokuapp.com/api/v1/gifs';\n        } else {\n          // If post type is article\n          form = `{\n            \"title\":\"${post.title}\",\n            \"article\":\"${post.article}\"\n          }`;\n          url = 'https://akintomiwa-capstone-backend.herokuapp.com/api/v1/articles';\n          contentType = 'application/json';\n        }\n\n        const headers = {\n          Authorization: `Bearer ${localStorage.getItem('sessionUserToken')}`,\n        };\n        if (contentType !== false)headers['Content-Type'] = contentType;\n        const { fetchRequest } = this.props;\n        fetchRequest({\n          url,\n          method: 'POST',\n          body: form,\n          headers,\n        }).then((data) => {\n          // save post\n          this.resetForm();\n          lib.popMessage('post created successfully');\n          this.props.registerPost({ ...data, type: post.type });\n        }).catch((res) => {\n          if (res.status === 'error' && post.type === 'gif') {\n            $('#postGifBlock').classList.add('Error');\n            lib.popMessage('invalid image uploaded please retry with a .gif file');\n          }\n        })\n          .finally(() => {\n            if (this._isMounted) {\n              this.setState(() => ({ submitting: false }));\n            }\n          });\n      } else {\n        lib.popMessage('Please complete the form before submitting');\n      }\n    }\n  }\n\n  render() {\n    let content = null;\n    const { post } = this.state;\n    if (post.type === 'gif') {\n      content = (\n        <div id=\"postGifContainer\">\n          <input\n            type=\"text\"\n            className=\"form-element\"\n            name=\"title\"\n            value={post.title}\n            placeholder=\"gif title\"\n            onFocus={this.onInputFocus}\n            onChange={this.onInputChange}\n            onBlur={this.onInputBlur}\n          />\n          <div id=\"postGifBlock\" className={post.image !== null ? 'selected' : ''} onClick={() => { $('#gifPicker').click(); }}>\n            <img id=\"postGif\" alt=\"post gif\" src=\"\" />\n            <div className=\"bk\">\n              <span className=\"fa fa-image icon\" />\n              <p>click to pick a gif image or drag and drop it here</p>\n            </div>\n            <div className=\"overlay\">\n              <p>Drop it like it&apos;s hot!</p>\n              <div\n                className=\"drop-container\"\n                onDrop={this.onGifDrop}\n                onDragOver={this.onGifDragOver}\n                onDragLeave={this.onGifDragLeave}\n              />\n            </div>\n            <input type=\"file\" className=\"form-element\" name=\"postGif\" id=\"gifPicker\" accept=\"image/gif\" onChange={this.onGifChange} />\n          </div>\n        </div>\n      );\n    } else {\n      // If its article\n      content = (\n        <div id=\"postArticleContainer\">\n          <input\n            type=\"text\"\n            className=\"form-element\"\n            name=\"title\"\n            value={post.title}\n            placeholder=\"article title\"\n            onFocus={this.onInputFocus}\n            onChange={this.onInputChange}\n            onBlur={this.onInputBlur}\n          />\n          <textarea\n            id=\"postArticleBlock\"\n            className=\"form-element\"\n            name=\"article\"\n            value={post.article}\n            placeholder=\"article\"\n            onFocus={this.onInputFocus}\n            onChange={this.onInputChange}\n            onBlur={this.onInputBlur}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <div id=\"sharePost\" className={this.state.focused ? 'focused' : ''}>\n        <div className=\"head\">\n          <h2 className=\"label\">share a post</h2>\n          <span className={`icon ${post.type === 'gif' ? 'fa fa-image' : 'fa fa-newspaper'}`} />\n        </div>\n        <div className=\"content\">\n          {content}\n        </div>\n        <div className=\"bottom\">\n          <div className=\"post-types\">\n            <button type=\"button\" className={`post-type ${post.type === 'article' ? 'active' : ''}`} onClick={(e) => { this.changePostType(e, 'article'); }}>article</button>\n            <button type=\"button\" className={`post-type ${post.type === 'gif' ? 'active' : ''}`} onClick={(e) => { this.changePostType(e, 'gif'); }}>gif</button>\n          </div>\n          <button type=\"submit\" className={this.state.submitting ? 'disabled' : ''} onClick={this.submitPost}>\n            <span>\n              <span className=\"fk\">\n                <span>post </span>\n                <span className={`fas ${this.state.submitting ? 'fa-spinner fa-spin' : 'fa-paper-plane'} icon`} />\n              </span>\n            </span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\nSharePost.propTypes = {\n  registerPost: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n};\nexport default SharePost;\n","/* eslint-disable react/no-unused-state */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport '../css/feed.css';\nimport lib from '../js/lib';\nimport Posts from './Posts';\nimport SharePost from './SharePost';\n\nclass Feeds extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n    };\n\n    this._isMounted = false;\n    this.setPosts = this.setPosts.bind(this);\n    this.registerPost = this.registerPost.bind(this);\n    this.getPosts = this.getPosts.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.props.pageSwitch('feeds');\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  setPosts(posts) {\n    this.setState(() => ({ posts }));\n  }\n\n  getPosts() {\n    return this.state.posts;\n  }\n\n  registerPost(pst) {\n    this.props.getPost(pst).then((Post) => {\n      if (this._isMounted) {\n        this.setState((prevState) => {\n          const post = { ...Post, type: pst.type, isNew: true };\n          const { posts } = prevState;\n          posts.unshift(post);\n          return { posts };\n        });\n      }\n    }).catch((error) => {\n      if (error === 'Unauthorized') {\n        const { history } = this.props;\n        history.push('/signin');\n      } else {\n        lib.popMessage(\n          navigator.onLine\n            ? \"can't connect to serve because you are offline, will retry in 5 seconds\"\n            : 'oops! there was a server error',\n        );\n        setTimeout(() => {\n          lib.popMessage('retrying to connect to server');\n          if (this._isMounted) this.registerPost();\n        }, 5000);\n      }\n    });\n  }\n\n  deletePost(post) {\n    // find post and update(prep for delete)\n    const { posts } = this.state;\n    const newPosts = [];\n\n    for (let i = 0; i < posts.length; i += 1) {\n      if (posts[i].id !== post.id) {\n        newPosts.push(posts[i]);\n      }\n    }\n\n    this.setState(() => ({\n      posts: newPosts,\n    }));\n\n    lib.popMessage(`${post.type} deleted successfully`);\n  }\n\n  render() {\n    return (\n      <div id=\"feedPosts\">\n        <SharePost {...this.props} registerPost={this.registerPost} />\n        <Posts\n          {...this.props}\n          setPosts={this.setPosts}\n          getPosts={this.getPosts}\n          deletePost={this.deletePost}\n        />\n      </div>\n    );\n  }\n}\nFeeds.propTypes = {\n  pageSwitch: PropTypes.func.isRequired,\n  getUser: PropTypes.func.isRequired,\n  getPost: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n};\n\nexport default Feeds;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\nimport '../css/postedit.css';\nimport Error from './Error';\n\nclass PostEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submitting: false,\n      author: null,\n      dateTimeRef: '',\n      title: this.props.post.title,\n      titleError: false,\n      articleError: false,\n      article: '',\n      isOwner: false,\n    };\n\n    this._isMounted = false;\n    this.updatePostDateTimeRef = null;\n    this.getAuthor = this.getAuthor.bind(this);\n    this.regInputsState = this.regInputsState.bind(this);\n    this.updatePost = this.updatePost.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.props.pageSwitch('edit post', true);\n    // Update post's reference time\n    const { post } = this.props;\n    if (post.authorId === this.props.sessionUser.id) {\n      this.setState(() => ({\n        isOwner: true,\n      }));\n      this.getAuthor().then(() => {\n        this.updatePostDateTimeRef = setInterval(() => {\n          if (this._isMounted) {\n            this.setState(() => ({\n              dateTimeRef: lib.getRelativeTime(post.createdOn),\n            }));\n          }\n        }, 60000); // 60 seconds (1 min)\n      });\n\n      // set form article\n      if (post.type === 'article') {\n        this.setState(() => ({\n          article: post.article,\n        }));\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    clearInterval(this.updatePostDateTimeRef);\n  }\n\n  getAuthor() {\n    return new Promise((resolve) => {\n      const { post } = this.props;\n      this.props.getUser(`${post.authorId}`).then((user) => {\n        if (this._isMounted) {\n          this.setState(() => ({\n            author: user,\n            dateTimeRef: lib.getRelativeTime(post.createdOn),\n          }));\n          resolve();\n        }\n      });\n    });\n  }\n\n  regInputsState(event) {\n    // eslint-disable-next-line dot-notation\n    const input = event.target.name;\n    const { value } = event.target;\n    this.setState(() => {\n      const n = {};\n      n[input] = value;\n      return n;\n    });\n  }\n\n  updatePost() {\n    const { state } = this;\n    if (!state.submitting) {\n      let filled = true;\n      if (lib.isEmpty(state.title)) {\n        this.setState(() => ({\n          titleError: true,\n        }));\n        filled = false;\n      } else {\n        this.setState(() => ({\n          titleError: false,\n        }));\n      }\n\n      const { type } = this.props.post;\n      const { id } = this.props.post;\n      if (type === 'article') {\n        if (lib.isEmpty(state.article)) {\n          this.setState(() => ({\n            articleError: true,\n          }));\n          filled = false;\n        } else {\n          this.setState(() => ({\n            articleError: false,\n          }));\n        }\n      }\n\n      if (filled) {\n        this.setState(() => ({\n          submitting: true,\n        }));\n\n        // Update\n        const body = { title: state.title };\n        if (type === 'article') body.article = state.article;\n\n        this.props.fetchRequest({\n          url: `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/${type}s/${id}`,\n          method: 'patch',\n          body: JSON.stringify(body),\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }).then(() => {\n          if (this._isMounted) {\n            lib.popMessage('post updated successfully');\n            const { history } = this.props;\n            if (history.length > 2) {\n              history.goBack();\n            } else {\n              history.push('/feed');\n            }\n          }\n        }).catch(() => {\n          lib.popMessage('there was an error proccessing your request, please try again');\n        });\n      } else {\n        lib.popMessage('please complete the form before submitting');\n      }\n    }\n  }\n\n  render() {\n    if (!this.state.isOwner) {\n      return (<Error {...this.props} />);\n    }\n\n    const { post } = this.props;\n    const { author } = this.state;\n    if (author !== null) {\n      const content = post.type === 'gif'\n        ? <img className=\"item\" src={post.url} alt=\"\" />\n        : (\n          <textarea\n            className={`form-element  ${this.state.articleError ? 'Error' : ''}`}\n            name=\"article\"\n            value={this.state.article}\n            onChange={this.regInputsState}\n          />\n        );\n\n      return (\n        <div id=\"postEdit\">\n          <div className=\"post\" id={post.id}>\n            <div onClick={this.viewPost}>\n              <div className=\"head\">\n                <div className=\"user-image\">\n                  <a href=\"/\">\n                    <img\n                      src={author.passportUrl}\n                      alt={`${author.firstName} ${author.lastName}`}\n                    />\n                  </a>\n                </div>\n                <div>\n                  <a\n                    href=\"/\"\n                    className=\"user-name\"\n                    title=\"\"\n                  >{`${author.firstName} ${author.lastName}`}\n                  </a>\n                  <p\n                    className=\"date-time\"\n                    data-timestamp={post.createdOn}\n                    title={lib.getRelativeTime(post.createdOn, false)}\n                  >{this.state.dateTimeRef}\n                  </p>\n                </div>\n              </div>\n              <div className=\"body\">\n                <input\n                  className={`title form-element ${this.state.titleError ? 'Error' : ''}`}\n                  name=\"title\"\n                  value={this.state.title}\n                  placeholder=\"title\"\n                  onChange={this.regInputsState}\n                />\n                <div className=\"content\">\n                  {content}\n                </div>\n              </div>\n            </div>\n          </div>\n          <button type=\"submit\" className={`btn btn-default ${this.state.submitting ? 'disabled' : ''}`} onClick={this.updatePost}>\n            <span className={`icon ${this.state.submitting ? 'fa fa-spinner fa-spin' : 'fas fa-save'}`} />\n            save\n          </button>\n        </div>\n      );\n    }\n    return (<div><span className=\"fa fa-spinner fa-spin loader\" /></div>);\n  }\n}\n\nPostEdit.propTypes = {\n  post: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n  getUser: PropTypes.func.isRequired,\n  pageSwitch: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n};\n\nexport default PostEdit;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport lib from '../js/lib';\nimport Post from './Post';\nimport PostEdit from './PostEdit';\nimport Error from './Error';\n\nclass ViewPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: false,\n    };\n\n    this._isMounted = false;\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n\n    let pst = {\n      type: this.props.match.params.type,\n    };\n    if (pst.type === 'gif') {\n      pst.gifId = this.props.match.params.id;\n    } else if (pst.type === 'article') {\n      pst.articleId = this.props.match.params.id;\n    } else {\n      pst = false;\n      this.setState(() => ({\n        post: null,\n      }));\n    }\n\n    if (pst) {\n      this.props.getPost(pst).then((postInfo) => {\n        if (this._isMounted) {\n          this.setState(() => ({\n            post: postInfo,\n          }));\n        }\n      }).catch((error) => {\n        if (this._isMounted) {\n          if (error.status === 404) {\n            this.setState(() => ({\n              post: null,\n            }));\n          } else {\n            this.props.history.push('/');\n            lib.popMessage('sorry we couldn\\'t complete your request please try again');\n          }\n        }\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onDelete() {\n    lib.popMessage(`${this.props.match.params.type} deleted successfully`);\n    const { history } = this.props;\n    if (history.length > 2) {\n      history.goBack();\n    } else {\n      history.push('/feed');\n    }\n  }\n\n  render() {\n    const url = this.props.match.path;\n    if (this.state.post === false) {\n      return (<div><span className=\"fa fa-spinner fa-spin loader\" /></div>\n      );\n    }\n\n    if (this.state.post === null) {\n      return <Error {...this.props} />;\n    }\n\n    return (\n      <div>\n        <Switch>\n          <Route\n            path={`${url}/edit`}\n            render={(props) => (\n              <PostEdit\n                {...this.props}\n                {...props}\n                post={{ ...this.state.post, type: this.props.match.params.type }}\n              />\n            )}\n          />\n          <Route\n            path={`${url}/`}\n            render={(props) => (\n              <Post\n                {...this.props}\n                {...props}\n                post={{ ...this.state.post, type: this.props.match.params.type }}\n                onDelete={this.onDelete}\n                preview\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\nViewPost.propTypes = {\n  pageSwitch: PropTypes.func.isRequired,\n  getPost: PropTypes.func.isRequired,\n  match: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n};\nexport default ViewPost;\n","/* eslint-disable react/no-unused-state */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/feed.css';\nimport Post from './Post';\nimport lib from '../js/lib';\n\nclass UserArticles extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [],\n      loading: true,\n    };\n\n    this._isMounted = false;\n    this.fetchRequest = this.props.fetchRequest;\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.props.mountProfileView('articles');\n    this.fetchRequest({\n      url: `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/users/${this.props.sessionUser.id}/articles`,\n    }).then((articles) => {\n      if (this._isMounted) {\n        this.setState(() => ({ articles, loading: false }));\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onDelete(article) {\n    // find Article and update(prep for delete)\n    const Articles = this.state.articles;\n    const articles = [];\n\n    for (let i = 0; i < Articles.length; i += 1) {\n      if (Articles[i].id !== article.id) {\n        articles.push(Articles[i]);\n      }\n    }\n\n    this.setState(() => ({\n      articles,\n    }));\n\n    lib.popMessage('article deleted successfully');\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (<div><span className=\"loader fa fa-spinner fa-spin\" /></div>);\n    }\n\n    const articles = [];\n    const articlesArr = this.state.articles;\n    if (articlesArr.length === 0) {\n      return (\n        <div className=\"empty-profile-tab\">\n          <span> there are no articles to show </span>\n        </div>\n      );\n    }\n\n    for (let i = 0; i < articlesArr.length; i += 1) {\n      articles.push(<Post\n        {...this.props}\n        post={{ ...articlesArr[i], type: 'article' }}\n        key={articlesArr[i].id}\n        onDelete={this.onDelete}\n      />);\n    }\n\n    return (\n      <div>{articles}</div>\n    );\n  }\n}\nUserArticles.propTypes = {\n  pageSwitch: PropTypes.func.isRequired,\n  getUser: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n  mountProfileView: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n};\n\nexport default UserArticles;\n","/* eslint-disable react/no-unused-state */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/feed.css';\nimport Post from './Post';\nimport lib from '../js/lib';\n\nclass UserGifs extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gifs: [],\n      loading: true,\n    };\n\n    this._isMounted = false;\n    this.fetchRequest = this.props.fetchRequest;\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.props.mountProfileView('gifs');\n    this.fetchRequest({\n      url: `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/users/${this.props.sessionUser.id}/gifs`,\n    }).then((gifs) => {\n      if (this._isMounted) {\n        this.setState(() => ({ gifs, loading: false }));\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onDelete(gif) {\n    // find gif and update(prep for delete)\n    const Gifs = this.state.gifs;\n    const gifs = [];\n\n    for (let i = 0; i < Gifs.length; i += 1) {\n      if (Gifs[i].id !== gif.id) {\n        gifs.push(Gifs[i]);\n      }\n    }\n\n    this.setState(() => ({\n      gifs,\n    }));\n\n    lib.popMessage('gif deleted successfully');\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (<div><span className=\"loader fa fa-spinner fa-spin\" /></div>);\n    }\n\n    const gifs = [];\n    const gifsArr = this.state.gifs;\n    if (gifsArr.length === 0) {\n      return (\n        <div className=\"empty-profile-tab\">\n          <span> there are no gifs to show </span>\n        </div>\n      );\n    }\n    for (let i = 0; i < gifsArr.length; i += 1) {\n      gifs.push(<Post\n        {...this.props}\n        post={{ ...gifsArr[i], type: 'gif' }}\n        key={gifsArr[i].id}\n        onDelete={this.onDelete}\n      />);\n    }\n\n    return (\n      <div>{gifs}</div>\n    );\n  }\n}\nUserGifs.propTypes = {\n  pageSwitch: PropTypes.func.isRequired,\n  getUser: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n  mountProfileView: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n};\n\nexport default UserGifs;\n","/* eslint-disable react/no-unused-state */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/userdetails.css';\nimport lib from '../js/lib';\n\nclass UserDetails extends React.Component {\n  render() {\n    const user = this.props.sessionUser;\n    return (\n      <div id=\"userDetails\">\n        <table>\n          <tbody>\n            <tr>\n              <td>id</td>\n              <td>{user.id}</td>\n            </tr>\n            <tr>\n              <td>department</td>\n              <td>{user.departmentText}</td>\n            </tr>\n            <tr>\n              <td>job</td>\n              <td>{user.jobRoleText}</td>\n            </tr>\n            <tr>\n              <td>first name</td>\n              <td>{user.firstName}</td>\n            </tr>\n            <tr>\n              <td>last name</td>\n              <td>{user.lastName}</td>\n            </tr>\n            <tr>\n              <td>email</td>\n              <td>{user.email}</td>\n            </tr>\n            <tr>\n              <td>gender</td>\n              <td>{user.gender}</td>\n            </tr>\n            <tr>\n              <td>address</td>\n              <td>{user.address}</td>\n            </tr>\n            <tr>\n              <td>hired on</td>\n              <td>{lib.getRelativeTime(user.hiredOn, false)}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\nUserDetails.propTypes = {\n  sessionUser: PropTypes.object.isRequired,\n};\n\nexport default UserDetails;\n","/* eslint-disable react/no-unused-state */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { NavLink, Route, Switch } from 'react-router-dom';\nimport '../css/feed.css';\nimport '../css/userprofile.css';\nimport sample from '../images/coverimage.jpg';\nimport lib from '../js/lib';\nimport UserArticles from './UserArticles';\nimport UserGifs from './UserGifs';\nimport UserDetails from './UserDetails';\n\nclass UserProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      profileLoading: true,\n      profileView: 'articles',\n    };\n\n    this._isMounted = false;\n    this.parallaxScroll = this.parallaxScroll.bind(this);\n    this.mountProfileView = this.mountProfileView.bind(this);\n    this.fetchRequest = this.props.fetchRequest;\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.props.pageSwitch('profile');\n    this.setState(() => ({\n      profileLoading: false,\n    }));\n    window.addEventListener('scroll', this.parallaxScroll);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    window.removeEventListener('scroll', this.parallaxScroll);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  parallaxScroll() {\n    const $ = (q) => (document.querySelector(q));\n    const image = $('#coverImage img');\n    const container = $('#coverImage');\n    const containerHeight = container.offsetHeight;\n    const containerTop = lib.getCordinates(container).top;\n    let containerPtop = container.offsetTop;\n    const containerBottom = containerTop + containerHeight;\n    if (containerTop <= window.innerHeight && containerBottom >= 0) {\n      containerPtop = containerPtop > window.innerHeight ? window.innerHeight : containerPtop;\n      // v the amount of distance the parallax bk have moved (in percentage)\n      // eslint-disable-next-line max-len\n      const displacement = ((containerTop - containerPtop) / (containerPtop + containerHeight)) * 100;\n      const relativeDisplacement = (displacement / 100) * (image.offsetHeight - containerHeight);\n      image.style.transform = `translate3d(0px, ${relativeDisplacement}px, 0px)`;\n    }\n  }\n\n  mountProfileView(profileView) {\n    this.setState(() => ({ profileView }));\n  }\n\n  render() {\n    if (this.state.profileLoading) {\n      return (<div><span className=\"fa fa-spinner fa-spin loader\" /></div>);\n    }\n\n    const user = this.props.sessionUser;\n    const deptStruc = this.props.companyDeptStruc;\n    const departmentText = deptStruc[user.department].name;\n    let jobRoleText = '';\n    const userDept = deptStruc[user.department].jobRoles;\n    for (let i = 0; i < userDept.length; i += 1) {\n      if (userDept[i].id === user.jobRole) {\n        jobRoleText = userDept[i].title;\n        break;\n      }\n    }\n\n    return (\n      <div>\n        <div className=\"top\">\n          <div id=\"coverImage\">\n            <img src={sample} alt=\"cover\" />\n          </div>\n          <div id=\"passport\">\n            <img src={user.passportUrl} alt=\"m\" />\n          </div>\n          <div id=\"userPreviewInfo\">\n            <h2 className=\"user-name\">{user.firstName} {user.lastName}</h2>\n            <p className=\"info\">#{user.id}</p>\n            <p className=\"info\">{jobRoleText} in {departmentText}</p>\n            <p className=\"info\" title={lib.getRelativeTime(user.hiredOn, false)}>hired {lib.getRelativeTime(user.hiredOn)}</p>\n          </div>\n          <div id=\"profileHeader\">\n            <NavLink to=\"/profile/details\" className=\"link\">\n              <span>Details</span>\n              <div />\n            </NavLink>\n            <NavLink\n              className=\"link\"\n              to=\"/profile/articles\"\n              isActive={(match, location) => {\n                if (!match) {\n                  if (['/profile', '/profile/'].indexOf(location.pathname.toLowerCase()) !== -1) {\n                    return true;\n                  }\n                  return false;\n                }\n                return true;\n              }}\n            >\n              <span>articles</span>\n              <div />\n            </NavLink>\n            <NavLink to=\"/profile/gifs\" className=\"link\">\n              <span>gifs</span>\n              <div />\n            </NavLink>\n          </div>\n        </div>\n        <div>\n          <Switch>\n            <Route\n              path=\"/profile/details\"\n              render={() => (\n                <UserDetails\n                  {...this.props}\n                  sessionUser={{ ...this.props.sessionUser, departmentText, jobRoleText }}\n                />\n              )}\n            />\n\n            <Route\n              path=\"/profile/gifs\"\n              render={(props) => (\n                <UserGifs\n                  {...this.props}\n                  {...props}\n                  mountProfileView={this.mountProfileView}\n                />\n              )}\n            />\n            <Route\n              path=\"/profile/articles\"\n              render={(props) => (\n                <UserArticles\n                  {...this.props}\n                  {...props}\n                  mountProfileView={this.mountProfileView}\n                />\n              )}\n            />\n            <Route\n              path=\"/profile\"\n              exact\n              render={(props) => (\n                <UserArticles\n                  {...this.props}\n                  {...props}\n                  mountProfileView={this.mountProfileView}\n                />\n              )}\n            />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\nUserProfile.propTypes = {\n  pageSwitch: PropTypes.func.isRequired,\n  getUser: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n  companyDeptStruc: PropTypes.object.isRequired,\n};\n\nexport default UserProfile;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Reports from './Reports';\nimport CreateUser from './CreateUser';\nimport Feed from './Feeds';\nimport ViewPost from './ViewPost';\nimport Error from './Error';\nimport lib from '../js/lib';\nimport '../css/maincontentblock.css';\nimport UserProfile from './UserProfile';\n\nclass MainContentBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageComp: '',\n      backBtn: false,\n    };\n    this.pageSwitch = this.pageSwitch.bind(this);\n    this.getPost = this.getPost.bind(this);\n    this.getCurrentPage = this.getCurrentPage.bind(this);\n  }\n\n  getPost(pst) {\n    // Get a specific post\n    const { fetchRequest } = this.props;\n\n    return new Promise((resolve, reject) => {\n      const post = {\n        id: pst.type === 'gif' ? pst.gifId : pst.articleId,\n        endpoint: pst.type === 'gif' ? 'gifs' : 'articles',\n      };\n      fetchRequest({\n        url: `https://akintomiwa-capstone-backend.herokuapp.com/api/v1/${post.endpoint}/${post.id}`,\n      }).then((Post) => {\n        resolve(Post);\n      }).catch((error) => {\n        reject(error);\n      });\n    });\n  }\n\n  getCurrentPage() {\n    return this.state.pageComp;\n  }\n\n  pageSwitch(page, backBtn = false) {\n    this.setState(() => ({\n      pageComp: page,\n      backBtn: !!backBtn,\n    }));\n  }\n\n  render() {\n    const { pageComp } = this.state;\n    const backBtn = this.state.backBtn ? (\n      <div className=\"go-back\" onClick={() => { this.props.history.goBack(); }}>\n        <div className=\"fas fa-arrow-left\" />\n      </div>\n    ) : '';\n    const userName = `${this.props.sessionUser.firstName} ${this.props.sessionUser.lastName}`;\n    return (\n      <main id=\"mainContentBlock\" data-comp={pageComp}>\n        <div id=\"contentHeader\">\n          <h1 className=\"page\">\n            {backBtn}\n            {lib.sepCamelWord(this.state.pageComp)}\n          </h1>\n          <div className=\"user-info\">\n            <h3 className=\"name\">{userName}</h3>\n            <div className=\"passport\">\n              <img src={this.props.sessionUser.passportUrl} alt={userName} />\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <Switch>\n            <Route\n              path=\"/create-user\"\n              render={(props) => (\n                <CreateUser\n                  {...this.props}\n                  {...props}\n                  pageSwitch={this.pageSwitch}\n                  getPost={this.getPost}\n                  getCurrentPage={this.getCurrentPage}\n                />\n              )}\n            />\n            <Route\n              path=\"/reports\"\n              render={(props) => (\n                <Reports\n                  {...this.props}\n                  {...props}\n                  pageSwitch={this.pageSwitch}\n                  getPost={this.getPost}\n                  getCurrentPage={this.getCurrentPage}\n                />\n              )}\n            />\n            <Route\n              path=\"/feeds\"\n              render={(props) => (\n                <Feed\n                  {...this.props}\n                  {...props}\n                  pageSwitch={this.pageSwitch}\n                  getPost={this.getPost}\n                  getCurrentPage={this.getCurrentPage}\n                />\n              )}\n            />\n            <Route\n              path=\"/post/:type/:id\"\n              render={(props) => (\n                <ViewPost\n                  {...this.props}\n                  {...props}\n                  pageSwitch={this.pageSwitch}\n                  getPost={this.getPost}\n                  getCurrentPage={this.getCurrentPage}\n                />\n              )}\n            />\n            <Route\n              path=\"/profile\"\n              render={(props) => (\n                <UserProfile\n                  {...this.props}\n                  {...props}\n                  pageSwitch={this.pageSwitch}\n                  getPost={this.getPost}\n                  getCurrentPage={this.getCurrentPage}\n                />\n              )}\n            />\n            <Route\n              path=\"/\"\n              exact\n              render={(props) => (\n                <Feed\n                  {...this.props}\n                  {...props}\n                  pageSwitch={this.pageSwitch}\n                  getPost={this.getPost}\n                  getCurrentPage={this.getCurrentPage}\n                />\n              )}\n            />\n            <Route\n              render={(props) => (\n                <Error\n                  {...this.props}\n                  {...props}\n                  pageSwitch={this.pageSwitch}\n                  getPost={this.getPost}\n                  getCurrentPage={this.getCurrentPage}\n                />\n              )}\n            />\n          </Switch>\n        </div>\n      </main>\n    );\n  }\n}\n\nMainContentBlock.propTypes = {\n  history: PropTypes.object.isRequired,\n  sessionUser: PropTypes.object.isRequired,\n  getUser: PropTypes.func.isRequired,\n  fetchRequest: PropTypes.func.isRequired,\n};\nexport default MainContentBlock;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/updatesblock.css';\n\nclass UpdatesBlock extends React.Component {\n  render() {\n    const cancel = this.props.preview\n      ? (\n        <div className=\"cancel-holder\">\n          <span className=\"cancel fas fa-times\" onClick={() => { this.props.onCancel(); }} />\n        </div>\n      ) : '';\n    return (\n      <div id=\"updatesBlock\" style={this.props.styles}>\n        {cancel}\n        <h2 className=\"header\">Notice board</h2>\n        <div className=\"note\" data-importance=\"4\">\n          <div className=\"container\">\n            <div className=\"date-time\">november 12, 9:30am</div>\n            <div className=\"msg\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae odit reprehenderit quod blanditiis ratione recusandae at, magnam nobis eius harum nisi iusto libero, ea eveniet dolore? Omnis maxime nisi sapiente?\n            </div>\n          </div>\n        </div>\n        <div className=\"note\" data-importance=\"3\">\n          <div className=\"container\">\n            <div className=\"date-time\">november 10, 11:59am</div>\n            <div className=\"msg\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae odit reprehenderit quod blanditiis ratione recusandae at, magnam nobis eius harum nisi iusto libero, ea eveniet dolore? Omnis maxime nisi sapiente?\n            </div>\n          </div>\n        </div>\n        <div className=\"note\" data-importance=\"2\">\n          <div className=\"container\">\n            <div className=\"date-time\">november 8, 2:00pm</div>\n            <div className=\"msg\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae odit reprehenderit quod blanditiis ratione recusandae at, magnam nobis eius harum nisi iusto libero, ea eveniet dolore? Omnis maxime nisi sapiente?\n            </div>\n          </div>\n        </div>\n        <div className=\"note\" dataimportance=\"1\">\n          <div className=\"container\">\n            <div className=\"date-time\">november 6, 10:30am</div>\n            <div className=\"msg\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae odit reprehenderit quod blanditiis ratione recusandae at, magnam nobis eius harum nisi iusto libero, ea eveniet dolore? Omnis maxime nisi sapiente?\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nUpdatesBlock.propTypes = {\n  styles: PropTypes.object,\n  preview: PropTypes.bool,\n  onCancel: PropTypes.func,\n};\nUpdatesBlock.defaultProps = {\n  styles: {},\n  preview: false,\n  onCancel: () => {},\n};\nexport default UpdatesBlock;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport '../css/mobilenavblock.css';\nimport ChangePassword from './ChangePassword';\nimport UpdatesBlock from './UpdatesBlock';\n\n\nclass MobileNavBlock extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showMoreOptions: false,\n      showNoticeBoard: false,\n    };\n\n    this.updatesBlock = false;\n    this.changePasswordDialog = false;\n    this.revealChangePassword = this.revealChangePassword.bind(this);\n    this.hideChangePassword = this.hideChangePassword.bind(this);\n    this.revealNoticeBoard = this.revealNoticeBoard.bind(this);\n    this.hideNoticeBoard = this.hideNoticeBoard.bind(this);\n    this.toogleMoreOptions = this.toogleMoreOptions.bind(this);\n    this.blurMoreOptions = this.blurMoreOptions.bind(this);\n    this.signOut = this.signOut.bind(this);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  signOut() {\n    localStorage.removeItem('sessionUserToken');\n    localStorage.removeItem('sessionUserId');\n    this.props.history.push('/signin');\n  }\n\n\n  // eslint-disable-next-line class-methods-use-this\n  revealChangePassword() {\n    this.changePasswordDialog = (\n      <div className=\"change-password-holder\">\n        <span className=\"cancel fas fa-times\" onClick={this.hideChangePassword} />\n        <ChangePassword {...this.props} />\n      </div>\n    );\n    this.setState(() => ({\n      showChangePassword: true,\n      showMoreOptions: false,\n    }));\n  }\n\n  hideChangePassword() {\n    this.setState(() => ({\n      showChangePassword: false,\n    }));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  revealNoticeBoard() {\n    const headerHeight = document.querySelector('#contentHeader').offsetHeight;\n    const mobileNavHeight = document.querySelector('#mobileNavBlock').offsetHeight;\n    const h = headerHeight + mobileNavHeight;\n    this.updatesBlock = (\n      <UpdatesBlock\n        styles={{\n          height: `calc(100vh - ${h}px)`,\n          top: headerHeight,\n          display: 'block',\n        }}\n        preview\n        onCancel={this.hideNoticeBoard}\n      />\n    );\n    this.setState(() => ({\n      showNoticeBoard: true,\n      showMoreOptions: false,\n    }));\n  }\n\n  hideNoticeBoard() {\n    this.setState(() => ({\n      showNoticeBoard: false,\n    }));\n  }\n\n  toogleMoreOptions() {\n    this.setState((prevState) => ({\n      showMoreOptions: !prevState.showMoreOptions,\n    }));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  focusMoreOptions(moreOptions) {\n    if (moreOptions) moreOptions.focus();\n  }\n\n  blurMoreOptions() {\n    this.setState(() => ({\n      showMoreOptions: false,\n    }));\n  }\n\n  render() {\n    const { sessionUser } = this.props;\n    let createUser = '';\n    let reports = '';\n    if (sessionUser.isAdmin) {\n      createUser = (\n        <NavLink className=\"link\" to=\"/create-user\">\n          <span className=\"icon fa fa-user-plus\" />\n        </NavLink>\n      );\n\n      reports = (\n        <NavLink className=\"link\" to=\"/reports\">\n          <span className=\"icon fa fa-bug\" />\n        </NavLink>\n      );\n    }\n\n    const moreOptions = this.state.showMoreOptions ? (\n      <button\n        type=\"button\"\n        className=\"more-options\"\n        ref={this.focusMoreOptions}\n        onBlur={this.blurMoreOptions}\n      >\n        <div className=\"option\" onClick={this.revealNoticeBoard}>\n          notice board\n        </div>\n        <div className=\"option\" onClick={this.revealChangePassword}>\n          change password\n        </div>\n        <div className=\"option\" onClick={this.signOut}>\n          sign out\n        </div>\n      </button>\n    ) : '';\n    const noticeBoard = this.state.showNoticeBoard ? this.updatesBlock : '';\n    const changePassword = this.state.showChangePassword ? this.changePasswordDialog : '';\n    return (\n      <div id=\"mobileNavBlock\">\n        <div className=\"links\">\n          {createUser}\n          {reports}\n          <NavLink\n            className=\"link\"\n            to=\"/feeds\"\n            isActive={(match, location) => {\n              if (!match) {\n                if (['', '/'].indexOf(location.pathname.toLowerCase()) !== -1) {\n                  return true;\n                }\n                return false;\n              }\n              return true;\n            }}\n          >\n            <span className=\"icon fas fa-layer-group\" />\n          </NavLink>\n          <NavLink className=\"link\" to=\"/profile\">\n            <span className=\"icon fa fa-user-circle\" />\n          </NavLink>\n          <div className=\"link\" onClick={this.toogleMoreOptions}>\n            <span className=\"icon fas fa-ellipsis-h\" />\n          </div>\n        </div>\n        {moreOptions}\n        {noticeBoard}\n        {changePassword}\n      </div>\n    );\n  }\n}\n\nMobileNavBlock.propTypes = {\n  sessionUser: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nexport default MobileNavBlock;\n","/* eslint-disable react/sort-comp */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NavBlock from './NavBlock';\nimport MainContentBlock from './MainContentBlock';\nimport UpdatesBlock from './UpdatesBlock';\nimport lib from '../js/lib';\nimport '../css/home.css';\nimport MobileNavBlock from './MobileNavBlock';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sessionUser: {},\n      companyDeptStruc: null,\n      loading: true,\n    };\n\n    this._isMounted = false;\n    this.getUser = this.getUser.bind(this);\n    this.fetchRequest = this.fetchRequest.bind(this);\n    this.validateAdmin = this.validateAdmin.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    const sessionUserId = localStorage.getItem('sessionUserId');\n    this.getUser(sessionUserId).then((user) => {\n      if (this._isMounted) {\n        this.getCompanyDeptStruc().then((deptStruc) => {\n          if (this._isMounted) {\n            this.setState(() => ({\n              companyDeptStruc: deptStruc,\n            }));\n\n            const isAdmin = this.validateAdmin(user);\n            this.setState(() => ({\n              sessionUser: {\n                ...user,\n                isAdmin,\n              },\n              loading: false,\n            }));\n          }\n        });\n      }\n    });\n  }\n\n  validateAdmin(user) {\n    let isAdmin = false;\n    const userDept = this.state.companyDeptStruc[user.department];\n    const { jobRoles } = userDept;\n    for (let i = 0; i < jobRoles.length; i += 1) {\n      if (jobRoles[i].id === user.jobRole) {\n        if (jobRoles[i].title === 'admin') {\n          isAdmin = true;\n        }\n        break;\n      }\n    }\n\n    return isAdmin;\n  }\n\n  getCompanyDeptStruc() {\n    return new Promise((resolve) => {\n      // Get departments and jobRoles in the company\n      this.fetchRequest({\n        url: 'https://akintomiwa-capstone-backend.herokuapp.com/api/v1/jobs',\n      }).then((deptStruc) => {\n        resolve(deptStruc);\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getUser(userId) {\n    // Fetch user's details\n    const errorHandler = ({ message: error }) => {\n      if (error === 'Unauthorized') {\n        const { history } = this.props;\n        history.push('/signin');\n      } else {\n        lib.popMessage(\n          navigator.onLine\n            ? 'oops! there was a server error'\n            : \"can't connect to serve because you are offline, will retry in 5 seconds\",\n        );\n        setTimeout(() => {\n          lib.popMessage('retrying to connect to server');\n          this.getUser(userId);\n        }, 5000);\n      }\n    };\n\n    return new Promise((resolve) => {\n      const sessionUserToken = localStorage.getItem('sessionUserToken');\n      if (!lib.isEmpty(userId) && !lib.isEmpty(sessionUserToken)) {\n        fetch(`https://akintomiwa-capstone-backend.herokuapp.com/api/v1/users/${userId}`, {\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${sessionUserToken}`,\n          },\n        }).then((res) => res.json()).then((res) => {\n          if (res.status === 'success') {\n            const { data: user } = res;\n            resolve(user);\n          } else errorHandler(new Error(res.error));\n        }).catch((error) => {\n          errorHandler(error);\n        });\n      } else errorHandler(new Error('Unauthorized'));\n    });\n  }\n\n  fetchRequest(params = {\n    url: '',\n    method: 'GET',\n    body: {},\n    headers: {},\n  }) {\n    return new Promise((resolve, reject) => {\n      // make custom fetch request\n      /* params{\n            url : String,\n            method: String,\n            headers : Object\n          }\n           */\n      const sessionUserToken = localStorage.getItem('sessionUserToken');\n      const retry = () => {\n        setTimeout(() => {\n          lib.popMessage('retrying to connect to server');\n          this.fetchRequest(params).then(resolve).catch(reject);\n        }, 5000);\n      };\n      const errorHandler = (error) => {\n        const { message: errorText, status } = error;\n        if (errorText === 'Unauthorized') {\n          const { history } = this.props;\n          history.push('/signin');\n        } else if (status === 500) {\n          lib.popMessage('oops! there was a server error');\n          retry();\n        } else if (!navigator.onLine) {\n          lib.popMessage(\"can't connect to serve because you are offline, will retry in 5 seconds\");\n          retry();\n        } else {\n          reject(error);\n        }\n      };\n\n      if (!lib.isEmpty(sessionUserToken)) {\n        let fetchResponse = null;\n        const method = lib.isEmpty(params.method) ? 'GET' : params.method.toUpperCase();\n        fetch(params.url, {\n          method,\n          body: params.body,\n          headers: {\n            ...params.headers,\n            Authorization: `Bearer ${sessionUserToken}`,\n          },\n        }).then((res) => {\n          fetchResponse = res;\n          return res.json();\n        }).then((res) => {\n          if (res.status === 'success') {\n            const { data } = res;\n            resolve(data);\n          } else {\n            const error = new Error(fetchResponse.statusText);\n            error.status = fetchResponse.status;\n            error.body = res.error;\n            errorHandler(error);\n          }\n        }).catch((error) => {\n          errorHandler(error);\n        });\n      } else {\n        const error = new Error('Unauthorized');\n        error.status = 401;\n        errorHandler(error);\n      }\n    });\n  }\n\n  render() {\n    if (this.state.loading === false) {\n      return (\n        <div id=\"pageContent\" data-page=\"application\">\n          <NavBlock\n            {...this.props}\n            sessionUser={this.state.sessionUser}\n            fetchRequest={this.fetchRequest}\n          />\n          <MainContentBlock\n            {...this.props}\n            sessionUser={this.state.sessionUser}\n            getUser={this.getUser}\n            fetchRequest={this.fetchRequest}\n            companyDeptStruc={this.state.companyDeptStruc}\n          />\n          <UpdatesBlock />\n          <MobileNavBlock\n            {...this.props}\n            sessionUser={this.state.sessionUser}\n            fetchRequest={this.fetchRequest}\n          />\n        </div>\n      );\n    }\n    return (<div id=\"pageContent\" className=\"loading\" data-page=\"application\" />);\n  }\n}\nHome.propTypes = {\n  history: PropTypes.object.isRequired,\n};\nexport default Home;\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable react/prefer-stateless-function */\nimport React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './css/general.css';\nimport SignIn from './components/SignIn';\nimport Home from './components/Home';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Switch>\n            <Route path=\"/signin\" render={(props) => <SignIn {...props} />} />\n            <Route path=\"/\" render={(props) => <Home {...props} />} />\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}